if(typeof TeaLeaf!=="undefined"&&((typeof TeaLeaf.replay==="function")?!TeaLeaf.replay():!TeaLeaf.replay)&&TeaLeaf.Configuration&&!TeaLeaf.Configuration.tlinit){TeaLeaf.Configuration.tlinit=true;if(!TeaLeaf.tlBrowser){TeaLeaf.tlBrowser={UNKNOWN:true}}if(!TeaLeaf.$C){TeaLeaf.$C=function(b){return b}}if(!Array.prototype.push){Array.prototype.stackEnd=0;Array.prototype.push=function(b){this[this.stackEnd]=b;this.stackEnd++}}if(!Array.prototype.pop){Array.prototype.pop=function(b){this.stackEnd--;return this[this.stackEnd]}}TeaLeaf.XHRFactory=(function(){var d,c;c=30000;d=function(a){if((a>=200&&a<300)||a===304){return true}return false};return{createXHRObject:function(){var h,j,a;j=[function(){return new XMLHttpRequest()},function(){return new ActiveXObject("Msxml2.XMLHTTP.6.0")},function(){return new ActiveXObject("Microsoft.XMLHTTP")}];for(h=0;h<j.length;h++){try{a=j[h]()}catch(b){continue}if(a){this.createXHRObject=j[h];return a}}return null},xhrRequest:function(s,q,w,r,a,p,b){var u,v;if(!s||!q){return null}s=s.toUpperCase();if(!b){b=this.createXHRObject()}if(!b){return null}if(a){b.onreadystatechange=function(){var h,f;try{switch(b.readyState){case 0:break;case 1:break;case 2:if(p&&p.loaded){try{h=b.status;f=b.statusText}catch(g){if(!h){h=0}if(!f){f="None"}}finally{p.loaded(h,f)}}break;case 3:break;case 4:if(d(b.status)){if(p&&p.success){p.success(b.responseText,b.responseXML)}}else{if(p&&p.failure){p.failure(b.status,b.statusText)}}break;default:break}}catch(g){}}}b.open(s,q,a);if(w){for(u=0;u<w.length;u++){b.setRequestHeader(w[u].name,w[u].value)}}if(s!=="POST"||!r){r=null}if(a){try{v=setTimeout(function(){TeaLeaf.XHRFactory.deleteXHRObj(b)},c);b.timeoutID=v}catch(t){}}b.send(r);return b},deleteXHRObj:function(a){if(a&&a.readyState!==4){if(a.abort){a.abort()}}if(a.timeoutID){clearTimeout(a.timeoutID);a.timeoutID=null}a.onreadystatechange=function(){};a=null}}})();TeaLeaf.Request=function(){var f,j,h,g;f=j=g=null;h="POST";this.getUrl=function(){var a,c,d,b,m;if(g){return g}a=TeaLeaf.Configuration;b=window.location;m=b.protocol;d=m+"//"+b.host;if(m=="http:"){c=a.tlurl}else{c=a.tlsecureurl}if(c.substr(0,1)=="/"){d+=c}else{d+=b.pathname.substr(0,b.pathname.lastIndexOf("/")+1)+c}return d};this.setUrl=function(a){g=a};this.getMethod=function(){return h};this.setMethod=function(a){h=a};this.getData=function(){return f};this.setData=function(b){var a;f=b;if(f){a=TeaLeaf.Request.totalDataLength||0;a+=f.length;TeaLeaf.Request.totalDataLength=a}};this.getHeaders=function(){return j};this.setHeaders=function(a){j=a};this.clear=function(){f=j=g=null}};TeaLeaf.Request.prototype={send:function(n){var m,s,l,r,o,p;o=TeaLeaf.Configuration;if(!o.xd_iframeID){p=TeaLeaf.XHRFactory.xhrRequest(this.getMethod(),this.getUrl(),this.getHeaders(),this.getData(),o.xhrAsync,n);if(!p){if(n&&n.failure){n.failure(0,"XHR request failed!")}return}}else{try{m=document.getElementById(o.xd_iframeID);if(!m||!m.contentWindow){if(n&&n.failure){n.failure(0,"Could not retrive cross-domain iframe target!")}return}s=m.contentWindow;if(s.postMessage&&window.JSON&&0){alert("Not implemented!")}else{r=s.TeaLeaf;if(r&&r.Request){l=new r.Request();l.clear();this.setUrl(l.getUrl());l.setHeaders(this.getHeaders());l.setData(this.getData());l.send(n)}}}catch(q){if(n&&n.failure){n.failure(0,(q.name?(q.name+": "+q.message):q.toString()))}return}}}};TeaLeaf.Request.GetTotalDataLength=function(){var b;b=TeaLeaf.Request.totalDataLength||0;return b};TeaLeaf.settlSDK=function(){TeaLeaf.Configuration.tlSDK=true};TeaLeaf.resettlSDK=function(){TeaLeaf.Configuration.tlSDK=false};TeaLeaf.tlSetPostURL=function(b){TeaLeaf.Configuration.tlurl=b};TeaLeaf.tlGetPostURL=function(){return TeaLeaf.Configuration.tlurl};TeaLeaf.makeRandomString=function(l,m){var g,h,j;if(!l||l<=0){return}if(!m){m="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ1234567890~!@#$%^+-?"}j="";for(g=0;g<l;g++){h=Math.floor(Math.random()*m.length);j+=m.charAt(h)}return j};TeaLeaf.tLoadObjs=[];TeaLeaf.addOnLoad=function(c,d){if(arguments.length===1){TeaLeaf.tLoadObjs.push(c)}else{if(arguments.length>1){TeaLeaf.tLoadObjs.push(c[d])}}};TeaLeaf.tlSetCookie=function(h,n,j,l,o,m){if(!h){return}document.cookie=h+"="+n+(j?(";expires="+j.toUTCString()):"")+";path="+(l?l:"/")+(o?(";domain="+o):"")+(m?";secure":"")};TeaLeaf.tlGetCookieValue=function(c){var q,m,j,p,o,n;n=c+"=";o=null;p=document.cookie.split(";");for(q=0;q<p.length;q++){j=p[q];for(m=0;j.charAt(m)==" ";m++){}if(m){j=j.substring(m,j.length)}if(j.indexOf(n)===0){o=j.substring(n.length,j.length);break}}return o};TeaLeaf.tlEraseCookie=function(c){var d;d=new Date(1970,1,1);TeaLeaf.tlSetCookie(c,"",d)};TeaLeaf.tlBrowserIsIE=function(){var b;b=TeaLeaf.tlBrowser;if(b){return !!b.MSIE}return false};TeaLeaf.tlBrowserIsMozilla=function(){var b;b=TeaLeaf.tlBrowser;if(b){return !!b.MOZILLA}return false};TeaLeaf.tlBrowserIsWebKit=function(){var b;b=TeaLeaf.tlBrowser;if(b){return !!b.WEBKIT}return false};TeaLeaf.tlBrowserIsOpera=function(){var b;b=TeaLeaf.tlBrowser;if(b){return !!b.OPERA}return false};TeaLeaf.tlBrowserIsUnknown=function(){var b;b=TeaLeaf.tlBrowser;if(b){return !!b.UNKNOWN}return false};(function(){var q,l,n,m,j,o,p;q=TeaLeaf;l=q.Client;m=q.Event;n=q.Configuration;j=null;p=false,o=true;q.tlDisable=function(){o=false;if(n.tlDisableIfInactive&&!p){try{m.tlFlushQueue(true);l.tlDetachFromAllControls();TeaLeaf.Event.tlRemoveHandler(window,"beforeunload",TeaLeaf.Event.tlBeforeUnload,false);TeaLeaf.Event.tlRemoveHandler(window,"unload",TeaLeaf.Event.tlUnload,false)}catch(a){}p=true}};q.activitySinceDisabled=function(){return o};q.tlKeepAlive=function(){if(j){window.clearTimeout(j);j=null}if(!p&&n.tlActivityTimeout){j=window.setTimeout(function(){q.tlDisable()},(n.tlActivityTimeout*60000))}if(!o){o=true}}})();TeaLeaf.PageSetup=function(){var u,o,w,r,p,x,v,q,s,y;if(document.readyState&&document.readyState!=="complete"){return}v=TeaLeaf;q=v.Configuration;s=q.tlGUIDCookie;if(v.PageSetup.Complete){return}v.PageSetup.Complete=true;if(v.PageSetup.Cleanup){v.PageSetup.Cleanup()}v.tlBrowser.UNKNOWN=false;y=navigator.userAgent.toLowerCase();if(/opera|presto/.test(y)){v.tlBrowser.OPERA=true}else{if(/(apple)?webkit|safari|chrome/.test(y)){v.tlBrowser.WEBKIT=true}else{if(/msie|trident/.test(y)){v.tlBrowser.MSIE=true}else{if(/^(?=.*?\b(mozilla|gecko|firefox)\b)((?!compatible).)*$/.test(y)){v.tlBrowser.MOZILLA=true}else{v.tlBrowser.UNKNOWN=true}}}}if(q.xd_CommonDomain){try{document.domain=q.xd_CommonDomain}catch(t){}}if(q.xd_iframeID){try{r=document.getElementById(q.xd_iframeID);if(!r){p=((window.location.protocol==="http:")?q.xd_iframeSrcURL:q.xd_iframeSrcURLSecure);if(p){r=document.createElement("IFRAME");if(r){r.id=q.xd_iframeID;r.src=p;r.style.display="none";r.style.visibility="hidden";document.body.appendChild(r)}}}}catch(t){}}if(q.tlSetGUID){if(!s||!s.name){}else{if(!s.valueLength){s.valueLength=32}if(!s.valueSet){s.valueSet="0123456789ABCDEF"}o=v.tlGetCookieValue(s.name);if(!o){x=new Date();o=v.makeRandomString(s.valueLength,s.valueSet);w=s.expires?new Date(x.getTime()+s.expires*60*1000):null;v.tlSetCookie(s.name,o,w,s.path,s.domain,s.secure)}}}if(!q.tlSDK){for(u=0;u<v.tLoadObjs.length;u++){v.tLoadObjs[u]()}}v.EndLoad=new Date()};if(document.readyState==="complete"){TeaLeaf.PageSetup()}else{if(document.addEventListener){document.addEventListener("DOMContentLoaded",TeaLeaf.PageSetup,false);window.addEventListener("load",TeaLeaf.PageSetup,false);TeaLeaf.PageSetup.Cleanup=function(){var b;b=TeaLeaf;document.removeEventListener("DOMContentLoaded",b.PageSetup,false);window.removeEventListener("load",b.PageSetup,false)}}else{if(document.attachEvent){document.attachEvent("onreadystatechange",TeaLeaf.PageSetup);window.attachEvent("onload",TeaLeaf.PageSetup);TeaLeaf.PageSetup.Cleanup=function(){var b;b=TeaLeaf;document.detachEvent("onreadystatechange",b.PageSetup);window.detachEvent("onload",b.PageSetup)}}else{if(typeof window.onload==="function"){TeaLeaf.OnLoad=window.onload}else{TeaLeaf.OnLoad=null}window.onload=function(){var b;b=TeaLeaf;b.PageSetup();window.onload=b.OnLoad;if(b.OnLoad){b.OnLoad()}}}}}}if(typeof TeaLeaf!=="undefined"&&((typeof TeaLeaf.replay==="function")?!TeaLeaf.replay():!TeaLeaf.replay)&&TeaLeaf.Event&&TeaLeaf.Event.Configuration){try{if(typeof TeaLeaf_PageID=="undefined"){TeaLeaf_PageID=null}}catch(e){TeaLeaf_PageID=null}TeaLeaf.Event.tlQueuedXML="";TeaLeaf.Event.tlQueuedXPXML="";TeaLeaf.Event.tlWindowObjects=[{tlWindowName:"",tlWindowObject:""}];TeaLeaf.Event.tlGetContentType=function(){var b="text/xml";return b};TeaLeaf.Event.tlGetTeaLeafXEvent=function(){var b=TeaLeaf.$C("ClientEvent");return b};TeaLeaf.Event.tlEventType=function(){var b;b=TeaLeaf.Event.SetType;TeaLeaf.Event.SetType="";return b};TeaLeaf.Event.tlEventSubType=function(){var b;b=TeaLeaf.Event.SetSubType;TeaLeaf.Event.SetSubType="";return b};TeaLeaf.Event.tlGetUrlPath=function(){var b=window.location.pathname;return b};TeaLeaf.Event.tlGetJSVersion=function(){return TeaLeaf.Configuration.tlversion};TeaLeaf.Event.tlResolutionType=function(h,g){var j=TeaLeaf.Event.Configuration.tlResolution;for(var f=0;f<j.length;f++){if(h<=j[f].width||g<=j[f].height){return j[f].type}}return j[j.length-1].type};TeaLeaf.Event.tlResolutionTypeBrowser=function(){var f=0;var g=0;if(window.innerWidth){f=window.innerWidth;g=window.innerHeight}else{if(document.documentElement&&document.documentElement.clientWidth){f=document.documentElement.clientWidth;g=document.documentElement.clientHeight}else{if(document.body&&document.body.clientWidth){f=document.body.clientWidth;g=document.body.clientHeight}else{var j=document.getElementsByTagName("body");if(j.length>0){f=j[0].clientWidth;g=j[0].clientHeight}}}}var h=TeaLeaf.Event.tlResolutionType(f,g);return h};TeaLeaf.Event.tlGetRenderTime=function(){return TeaLeaf.Event.PageLoadMilliSecs};TeaLeaf.Event.tlGetElementCount=function(b){return document.getElementsByName(b).length};TeaLeaf.Event.tlBadImageCount=function(){var m,j,l,h,g;j=0;l=document.images;g=l.length;for(m=0;m<g;m++){h=l[m];if((!h)||(typeof h.complete==="boolean"&&!h.complete)||(typeof h.naturalWidth!=="undefined"&&h.naturalWidth===0)){j++;continue}}return j};TeaLeaf.Event.tlFlashSend=function(m,g,j,h){var l=new TeaLeaf.Event(m,g);l.tlAddData(j.split(h));l.tlSend()};TeaLeaf.Event.tlShowFlashDebug=function(f,g){g+="<BR>";for(i=0;i<TeaLeaf.Event.tlWindowObjects.length;i++){if(TeaLeaf.Event.tlWindowObjects[i].tlWindowName==f){if(TeaLeaf.Event.tlWindowObjects[i].tlWindowObject.closed){TeaLeaf.Event.tlWindowObjects[i].tlWindowObject=window.open("",f,"width=600,height=300,scrollbars=yes,resizable=yes")}TeaLeaf.Event.tlWindowObjects[i].tlWindowObject.document.writeln(g.fontsize(2));TeaLeaf.Event.tlWindowObjects[i].tlWindowObject.scrollTo(0,50000);return}}var d=window.open("",f,"width=600,height=300,scrollbars=yes,resizable=yes");TeaLeaf.Event.tlWindowObjects.push({tlWindowName:f,tlWindowObject:d});d.document.writeln(g.fontsize(2))};TeaLeaf.Event.tlSetEventCount=function(b){TeaLeaf.Event.Configuration.tleventcount=b};TeaLeaf.Event.tlGetEventCount=function(){return TeaLeaf.Event.Configuration.tleventcount};TeaLeaf.Event.tlGetSendStringBytes=function(b){return b.length};TeaLeaf.Event.tlGetExceptionCount=function(){return(TeaLeaf.Event.Configuration.tlcatcherrors?TeaLeaf.Event.Configuration.tlexceptioncount:null)};TeaLeaf.Event.tlGetDwellTime=function(){return TeaLeaf.Event.tlDateDiff(TeaLeaf.tlStartLoad,TeaLeaf.Event.Configuration.tllastdwelltime)};TeaLeaf.Event.tlGetLastVisitedElementID=function(){return TeaLeaf.Event.Configuration.tlidoflastvisitedcontrol};TeaLeaf.Event.tlDateDiff=function(c,d){return Math.abs(c-d)};TeaLeaf.Event.tlGetVisitOrder=function(){return TeaLeaf.Event.Configuration.tlvisitorder};TeaLeaf.Event.tlFormatXML=function(b){if(b){if(b.replace){return b.replace(/&/g,"&amp;").replace(/\"/g,"&quot;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}return b}return""};TeaLeaf.Event.tlGetCookie=function(m){var g=document.cookie;var j=m+"=";var l=g.indexOf("; "+j);if(l==-1){l=g.indexOf(j);if(l!=0){return""}}else{l+=2}var h=document.cookie.indexOf(";",l);if(h==-1){h=g.length}return unescape(g.substring(l+j.length,h))};TeaLeaf.Event.tlGetHTTPHeaders=function(tlheaderconfig){var i,headers,value;headers=[];for(i=0;i<tlheaderconfig.length;i++){if(tlheaderconfig[i].tlsethttpheader){value=eval(tlheaderconfig[i].tlreqhttpheadervalue);if(value){headers.push({name:tlheaderconfig[i].tlreqhttpheadername,value:value})}}}return headers};TeaLeaf.Event.tlGetPageId=function(){if(TeaLeaf.Event.Configuration.tlpageid){return TeaLeaf.Event.Configuration.tlpageid}if(TeaLeaf_PageID){TeaLeaf.Event.Configuration.tlpageid=TeaLeaf_PageID;return TeaLeaf.Event.Configuration.tlpageid}TeaLeaf.Event.Configuration.tlpageid="ID"+TeaLeaf.tlStartLoad.getHours()+"H"+TeaLeaf.tlStartLoad.getMinutes()+"M"+TeaLeaf.tlStartLoad.getSeconds()+"S"+TeaLeaf.tlStartLoad.getMilliseconds()+"R"+Math.random();return TeaLeaf.Event.Configuration.tlpageid};TeaLeaf.Event.tlSendFailure=function(u,m,n){var r,p,t,s;p=new Date();r=Date.UTC(p.getUTCFullYear(),p.getUTCMonth(),p.getUTCDate(),p.getUTCHours(),p.getUTCMinutes(),p.getUTCSeconds(),p.getUTCMilliseconds());if(TeaLeaf.tlStartLoad){s=TeaLeaf.Event.tlDateDiff(p,TeaLeaf.tlStartLoad)}TeaLeaf.Event.Configuration.tleventcount++;TeaLeaf.Event.Configuration.tlexceptioncount++;t="<"+TeaLeaf.$C("ClientEvent")+" "+TeaLeaf.$C("Count")+'="'+TeaLeaf.Event.Configuration.tleventcount+'" '+TeaLeaf.$C("Type")+'="'+TeaLeaf.$C("INFO")+'" '+TeaLeaf.$C("SubType")+'="'+TeaLeaf.$C("EXCEPTION")+'" '+TeaLeaf.$C("FailedUrl")+'="'+TeaLeaf.Event.tlFormatXML(m)+'" '+TeaLeaf.$C("Message")+'="'+TeaLeaf.Event.tlFormatXML(n)+'" '+TeaLeaf.$C("TimeDuration")+'="'+s+'" '+TeaLeaf.$C("DateSince1970")+'="'+r+'" '+TeaLeaf.$C("PageId")+'="'+TeaLeaf.Event.tlGetPageId()+'"  />\r\n';try{TeaLeaf.Event.Configuration.tlasync=true;var q=new TeaLeaf.Event(TeaLeaf.$C("INFO"),TeaLeaf.$C("EXCEPTION"));q.tlSendXML(t,true)}catch(o){if(TeaLeaf.Event.Configuration.tlshowexceptions){alert(o.name+": "+o.message+"\r\n\r\nPos 4")}}};TeaLeaf.Event.tlGetTransport=function(){var d;if(window.XMLHttpRequest){try{d=new XMLHttpRequest()}catch(c){d=null}}else{if(window.ActiveXObject){try{d=new ActiveXObject("Msxml2.XMLHTTP")}catch(c){try{d=new ActiveXObject("Microsoft.XMLHTTP")}catch(c){d=null}}}}return d};TeaLeaf.Event.TransportArray=[];TeaLeaf.Event.tlXMLHTTPObj=function(){var b=0;for(;b<TeaLeaf.Event.TransportArray.length;b++){if(TeaLeaf.Event.TransportArray[b]&&TeaLeaf.Event.TransportArray[b].readyState>0){if(TeaLeaf.Event.TransportArray[b].readyState==4){TeaLeaf.Event.TransportArray[b].abort();TeaLeaf.Event.TransportArray[b].onreadystatechange=new function(){};return TeaLeaf.Event.TransportArray[b]}}else{TeaLeaf.Event.TransportArray[b]=TeaLeaf.Event.tlGetTransport();return TeaLeaf.Event.TransportArray[b]}}TeaLeaf.Event.TransportArray[b]=TeaLeaf.Event.tlGetTransport();return TeaLeaf.Event.TransportArray[b]};TeaLeaf.Event.tlCleanXMLHTTPObj=function(c){var d=0;for(;d<TeaLeaf.Event.TransportArray.length;d++){if(c==TeaLeaf.Event.TransportArray[d]){TeaLeaf.Event.TransportArray[d]=null}}};TeaLeaf.Event.tlAddHandler=function(g,j,l,m){try{if(!g){return}if(g.addEventListener){g.addEventListener(j,l,m)}else{if(g.attachEvent){g.attachEvent("on"+j,l)}else{}}}catch(h){if(TeaLeaf.Event.Configuration.tlshowexceptions){alert(h.name+": "+h.message+"\r\n\r\nPos 4")}}};TeaLeaf.Event.tlRemoveHandler=function(g,j,l,m){try{if(!g){return}if(g.removeEventListener){g.removeEventListener(j,l,m)}else{if(g.detachEvent){g.detachEvent("on"+j,l)}}}catch(h){if(TeaLeaf.Event.Configuration.tlshowexceptions){alert(h.name+": "+h.message+"\r\n\r\nPos 5")}}};TeaLeaf.Event.tlFlushQueue=function(o){var m=null;var j=TeaLeaf.Event.Configuration.tlqueueeventstimer;var p=j*3;if(TeaLeaf.Event.Configuration.tlusetopqueue){var q=new Date();var n=(q-top.TeaLeaf.Event.TimeSent);if(top.TeaLeaf.Event.tlQueuedXML){if(o||n>=j){m=top.TeaLeaf.Event.tlQueuedXML;top.TeaLeaf.Event.tlQueuedXML="";top.TeaLeaf.Event.TimeSent=q}}if(!m){if(!o&&n<(j/2)){if(j>=p){j=p}else{j=(j*3)/2}}return j}}else{if(!TeaLeaf.Event.tlQueuedXML){return j}m=TeaLeaf.Event.tlQueuedXML;TeaLeaf.Event.tlQueuedXML=""}var l=new TeaLeaf.Event(TeaLeaf.$C("GUI"),TeaLeaf.$C("QUEUED"));l.tlSendXML(m);return j};TeaLeaf.Event.prototype.tlPushXML=function(f,g){if(!this.XMLStack){this.XMLStack=[]}if(g){}else{var d="  <"+f+" ";if(this.XMLData){this.XMLData+=d}else{this.XMLData=d}}};TeaLeaf.Event.prototype.tlPopXML=function(){if(this.XMLData){this.XMLData+="/>\r\n"}else{return false}};TeaLeaf.Event.prototype.tlAddData=function(j){var l="";if(this.XMLStack){for(var n=0;n<this.XMLStack.length;n++){l+="  "}}var m=[];for(var n=0;n<j.length;n+=2){var o=j[n];var h=TeaLeaf.Event.tlFormatXML(j[n+1]);if(o&&h){m[m.length]=l+o+'="'+h+'" '}}if(!this.XMLData){this.XMLData=""}this.XMLData+=m.join("");j=null};TeaLeaf.Event.prototype.tlSendXML=function(w,v){var n,u,r;try{r=new TeaLeaf.Request();if(!r){return}r.clear();var o=new Date();var t=Date.UTC(o.getUTCFullYear(),o.getUTCMonth(),o.getUTCDate(),o.getUTCHours(),o.getUTCMinutes(),o.getUTCSeconds(),o.getUTCMilliseconds());var p="<"+TeaLeaf.$C("ClientEventSet")+" "+TeaLeaf.$C("PostTimeStamp")+'="'+t+'" >';w=p+w+"</"+TeaLeaf.$C("ClientEventSet")+">";TeaLeaf.Event.Configuration.tlignoresendfailure=v;r.setData(w);u=[{name:"X-TeaLeaf",value:"ClientEvent"}];u=u.concat(TeaLeaf.Event.tlGetHTTPHeaders(TeaLeaf.Event.Configuration.tlHTTPRequestHeadersSet));if(TeaLeaf.Event.Configuration.tlinitflag&&!TeaLeaf.Event.InitHeadersSent){u=u.concat(TeaLeaf.Event.tlGetHTTPHeaders(TeaLeaf.Event.Configuration.tlHTTPRequestHeadersEvalInit));TeaLeaf.Event.InitHeadersSent=true}if(TeaLeaf.Event.SendUnloadHeaders&&!TeaLeaf.Event.UnloadHeadersSent){u=u.concat(TeaLeaf.Event.tlGetHTTPHeaders(TeaLeaf.Event.Configuration.tlHTTPRequestHeadersEvalBeforeUnload));TeaLeaf.Event.UnloadHeadersSent=true}r.setHeaders(u);n={loaded:function(b,a){if(TeaLeaf.tlGetCookieValue("tlQueuedXML")){TeaLeaf.tlEraseCookie("tlQueuedXML")}},failure:function(b,a){if(!TeaLeaf.Event.Configuration.tlignoresendfailure){TeaLeaf.Event.Configuration.tlignoresendfailure=true;TeaLeaf.Event.tlSendFailure(r.getUrl(),r.getUrl(),"Status "+b+": "+a)}},success:function(b,a){TeaLeaf.Event.Configuration.tlignoresendfailure=false}};r.send(n)}catch(q){var s;s=r?r.getUrl():"none";if(TeaLeaf.Event.Configuration.tlshowexceptions){if(q.name){alert(q.name+": "+q.message+"\r\n\r\nURL: "+s+"\r\n\r\nPos 3 ")}else{alert(q+"\r\n\r\nURL: "+s+"\r\n\r\nPos 3 ")}}if(!TeaLeaf.Event.Configuration.tlignoresendfailure){TeaLeaf.Event.Configuration.tlignoresendfailure=true;TeaLeaf.Event.tlSendFailure(s,s,q.name?(q.name+": "+q.message):q.toString())}}};TeaLeaf.Event.prototype.tlSend=function(f){TeaLeaf.tlKeepAlive();TeaLeaf.Event.Configuration.tleventcount++;if(this.XMLStack){while(this.XMLStack.length>0){this.tlPopXML()}}if(TeaLeaf.Event.Configuration.tleventcount>TeaLeaf.Event.Configuration.tlmaxeventcount){TeaLeaf.Event.tlFlushQueue();return}var d=Date.UTC(this.date.getUTCFullYear(),this.date.getUTCMonth(),this.date.getUTCDate(),this.date.getUTCHours(),this.date.getUTCMinutes(),this.date.getUTCSeconds(),this.date.getUTCMilliseconds());sendStr="<"+TeaLeaf.$C("ClientEvent")+" "+TeaLeaf.$C("Count")+'="'+TeaLeaf.Event.Configuration.tleventcount+'" '+TeaLeaf.$C("Type")+'="'+this.EventType+'" '+TeaLeaf.$C("SubType")+'="'+this.EventSubType+'" ';if(this.EventSource){sendStr+=TeaLeaf.$C("Source")+'="'+this.EventSource+'" '}if(!f){sendStr+=this.XMLData}if(TeaLeaf.tlStartLoad){sendStr+=TeaLeaf.$C("TimeDuration")+'="'+TeaLeaf.Event.tlDateDiff(this.date,TeaLeaf.tlStartLoad)+'" '}sendStr+=TeaLeaf.$C("DateSince1970")+'="'+d+'" ';sendStr+=TeaLeaf.$C("PageId")+'="'+TeaLeaf.Event.tlGetPageId()+'" ';if(f){sendStr+=">\r\n"+this.XMLData+"</"+TeaLeaf.$C("ClientEvent")+">\r\n"}else{sendStr+="/>\r\n"}if(TeaLeaf.Event.Configuration.tlqueueevents){if(TeaLeaf.Event.Configuration.tlusetopqueue){if(top.TeaLeaf.Event.tlQueuedXML){top.TeaLeaf.Event.tlQueuedXML+=sendStr}else{top.TeaLeaf.Event.tlQueuedXML=sendStr}}else{if(TeaLeaf.Event.tlQueuedXML){TeaLeaf.Event.tlQueuedXML+=sendStr}else{TeaLeaf.Event.tlQueuedXML=sendStr}}if(TeaLeaf.Event.Configuration.tlqueueeventsmaxsz<TeaLeaf.Event.tlQueuedXML.length){TeaLeaf.Event.tlFlushQueue()}return}try{this.tlSendXML(sendStr);this.XMLData=""}catch(g){}this.XMLData=""};TeaLeaf.Event.tlXMLEncode=function(b){if(b==null){return b}b=b.replace(/&/g,"&#38;");b=b.replace(/"/g,"&#34;");b=b.replace(/'/g,"&#39;");b=b.replace(/:/g,"&#58;");return b};TeaLeaf.Event.tlXMLDecode=function(b){if(b==null){return b}b=b.replace(/&#58;/g,":");b=b.replace(/&#39;/g,"'");b=b.replace(/&#34;/g,'"');b=b.replace(/&#38;/g,"&");return b};TeaLeaf.Event.tlEnableAllHTTPHeaders=function(b){if(b){if(b=="info"){TeaLeaf.Event.tlEventJSONCfgUtil(TeaLeaf.Event.Configuration.tlHTTPRequestHeadersSet,true,"all")}else{if(b=="init"){TeaLeaf.Event.tlEventJSONCfgUtil(TeaLeaf.Event.Configuration.tlHTTPRequestHeadersEvalInit,true,"all")}else{if(b=="beforeunload"){TeaLeaf.Event.tlEventJSONCfgUtil(TeaLeaf.Event.Configuration.tlHTTPRequestHeadersEvalBeforeUnload,true,"all")}}}}else{TeaLeaf.Event.tlEventJSONCfgUtil(TeaLeaf.Event.Configuration.tlHTTPRequestHeadersSet,true,"all");TeaLeaf.Event.tlEventJSONCfgUtil(TeaLeaf.Event.Configuration.tlHTTPRequestHeadersEvalInit,true,"all");TeaLeaf.Event.tlEventJSONCfgUtil(TeaLeaf.Event.Configuration.tlHTTPRequestHeadersEvalBeforeUnload,true,"all")}};TeaLeaf.Event.tlEnableHTTPHeader=function(d,c){if(d=="info"){TeaLeaf.Event.tlEventJSONCfgUtil(TeaLeaf.Event.Configuration.tlHTTPRequestHeadersSet,true,c)}else{if(d=="init"){TeaLeaf.Event.tlEventJSONCfgUtil(TeaLeaf.Event.Configuration.tlHTTPRequestHeadersEvalInit,true,c)}else{if(d=="beforeunload"){TeaLeaf.Event.tlEventJSONCfgUtil(TeaLeaf.Event.Configuration.tlHTTPRequestHeadersEvalBeforeUnload,true,c)}}}};TeaLeaf.Event.tlDisableAllHTTPHeaders=function(b){if(b){if(b=="info"){TeaLeaf.Event.tlEventJSONCfgUtil(TeaLeaf.Event.Configuration.tlHTTPRequestHeadersSet,false,"all")}else{if(b=="init"){TeaLeaf.Event.tlEventJSONCfgUtil(TeaLeaf.Event.Configuration.tlHTTPRequestHeadersEvalInit,false,"all")}else{if(b=="beforeunload"){TeaLeaf.Event.tlEventJSONCfgUtil(TeaLeaf.Event.Configuration.tlHTTPRequestHeadersEvalBeforeUnload,false,"all")}}}}else{TeaLeaf.Event.tlEventJSONCfgUtil(TeaLeaf.Event.Configuration.tlHTTPRequestHeadersSet,false,"all");TeaLeaf.Event.tlEventJSONCfgUtil(TeaLeaf.Event.Configuration.tlHTTPRequestHeadersEvalInit,false,"all");TeaLeaf.Event.tlEventJSONCfgUtil(TeaLeaf.Event.Configuration.tlHTTPRequestHeadersEvalBeforeUnload,false,"all")}};TeaLeaf.Event.tlEnableQueueEvents=function(){TeaLeaf.Event.Configuration.tlqueueevents=true};TeaLeaf.Event.tlDisableQueueEvents=function(){TeaLeaf.Event.Configuration.tlqueueevents=false};TeaLeaf.Event.tlEnableShowExceptions=function(){TeaLeaf.Event.Configuration.tlshowexceptions=true};TeaLeaf.Event.tlDisableShowExceptions=function(){TeaLeaf.Event.Configuration.tlshowexceptions=false};TeaLeaf.Event.tlSetQueueEventTime=function(b){TeaLeaf.Event.Configuration.tlqueueeventstimer=b};TeaLeaf.Event.tlGetQueueEventTime=function(){return TeaLeaf.Event.Configuration.tlqueueeventstimer};TeaLeaf.Event.tlSetQueueEventMaxSize=function(b){TeaLeaf.Event.Configuration.tlqueueeventsmaxsz=b};TeaLeaf.Event.tlGetQueueEventMaxSize=function(){return TeaLeaf.Event.Configuration.tlqueueeventsmaxsz};TeaLeaf.Event.tlGetAlertCount=function(){var d,g,f;d=TeaLeaf;g=d.Event;f=g.getAlertCount?g.getAlertCount():0;return f};TeaLeaf.Event.tlEventJSONCfgUtil=function(h,j,g){for(var f=0;f<h.length;f++){if(g=="all"){h[f].load=j}else{if(g==h[f].domevent){h[f].load=j}}}};TeaLeaf.Event.tlErrorHandler=function(n,o,j){TeaLeaf.Event.Configuration.tlexceptioncount++;if(TeaLeaf.Event.Configuration.tlexceptioncount>TeaLeaf.Event.Configuration.tlmaxeventexception){return}if((typeof n!=="string")&&!o){return false}var h=new Date();if(!j){j="-"}var l=new TeaLeaf.Event(TeaLeaf.$C("INFO"),TeaLeaf.$C("EXCEPTION"));var m=[TeaLeaf.$C("Message"),n,TeaLeaf.$C("URL"),escape(o),TeaLeaf.$C("Line"),j];l.tlAddData(m);TeaLeaf.Event.Configuration.tlasync=true;l.tlSend();TeaLeaf.Event.tlFlushQueue();return false};(function(){var q,o,m,r,n,p,s,l;q=TeaLeaf;o=q.Configuration;m=q.Client;r=m.Configuration;n=q.Event;p=n.Configuration;l=false;s=function(b){var d,c;if(l){return}if(!q.activitySinceDisabled()){return}if(r.tlIEhref){r.tlIEhref=false;return}l=true;if(!o.xhrAsyncOnUnload){o.xhrAsync=false}if(r.tlStoreQueueInCookie){var f=new Date();f.setTime(f.getTime()+300000);var a=n.tlQueuedXML.replace(/(\r|\n)/g,"").replace(/;/g,"%3B");q.tlSetCookie("tlQueuedXML",a,f,"/")}p.tllastdwelltime=new Date();c=new n(q.$C("PERFORMANCE"),b);n.SetType=c.EventType;if(!n.SetSubType){n.SetSubType=c.EventSubType}else{n.SetSubType+="; "+c.EventSubType}n.SendUnloadHeaders=true;d=[q.$C("MouseMove"),m.tlHasUserMovement?q.$C("True"):q.$C("False"),q.$C("Action"),r.tlactiontype,q.$C("VisitOrder"),p.tlvisitorder,q.$C("Alerts"),n.tlGetAlertCount()];c.tlAddData(d);c.tlSend();n.tlFlushQueue(true);setTimeout(function(){l=false;o.xhrAsync=true;n.SendUnloadHeaders=false},1000)};n.tlBeforeUnload=function(){s(q.$C("BeforeUnload"))};n.tlUnload=function(){m.tlDetachFromAllControls();s(q.$C("Unload"))}})();TeaLeaf.Event.EventSetup=function(){var g,j,l;g=TeaLeaf;j=g.Event;l=j.Configuration;if(l.tlCatchAlerts){(function(){var d,c,a,b;d=0;if(window.alert&&window.alert.apply){c=window.alert;window.alert=function(){var f;f=c.apply(window,arguments);d++;return f}}if(window.confirm&&window.confirm.apply){a=window.confirm;window.confirm=function(){var f;f=a.apply(window,arguments);d++;return f}}if(window.prompt&&window.prompt.apply){b=window.prompt;window.prompt=function(){var f;f=b.apply(window,arguments);d++;return f}}j.getAlertCount=function(){return d}})()}if(TeaLeaf.Event.Configuration.tlcatcherrors){if(typeof window.onerror!=="function"){window.onerror=TeaLeaf.Event.tlErrorHandler}}TeaLeaf.Event.tlAddHandler(window,"beforeunload",TeaLeaf.Event.tlBeforeUnload,false);TeaLeaf.Event.tlAddHandler(window,"unload",TeaLeaf.Event.tlUnload,false);if(TeaLeaf.Event.Configuration.tlqueueevents){TeaLeaf.Event.tlTimerRoutine=function(){var a=TeaLeaf.Event.Configuration.tlqueueeventstimer;try{a=TeaLeaf.Event.tlFlushQueue()}catch(b){if(TeaLeaf.Event.Configuration.tlshowexceptions){alert(b.name+": "+b.message+"\r\n\r\nPos 7")}}setTimeout("TeaLeaf.Event.tlTimerRoutine()",a)};setTimeout("TeaLeaf.Event.tlTimerRoutine()",TeaLeaf.Event.Configuration.tlqueueeventstimer)}var h=new Date();var m=Date.UTC(h.getUTCFullYear(),h.getUTCMonth(),h.getUTCDate(),h.getUTCHours(),h.getUTCMinutes(),h.getUTCSeconds(),h.getUTCMilliseconds());TeaLeaf.Event.Configuration.t1970=m;TeaLeaf.Event.Loaded=true};TeaLeaf.Event.tlAddCustomEvent=function(j,p){var o,n,q,l,m;if(!j||typeof j!=="string"){j="custom"}if(!p||typeof p!=="object"){return}m=new TeaLeaf.Event(TeaLeaf.$C("UIEventAppInfo"),j);o=0;l=[];for(n in p){if(n&&p.hasOwnProperty(n)){l[o++]=TeaLeaf.Event.tlXMLEncode(n);l[o++]=p[n].toString()}}m.tlAddData(l);m.tlSend()};if(TeaLeaf.Event.Configuration.tlinit==false){TeaLeaf.Event.Configuration.tlinit=true;TeaLeaf.Event.prototype.XMLData="";TeaLeaf.addOnLoad(TeaLeaf.Event.EventSetup)}}if(typeof TeaLeaf!=="undefined"&&((typeof TeaLeaf.replay==="function")?!TeaLeaf.replay():!TeaLeaf.replay)&&TeaLeaf.Env&&TeaLeaf.Env.Configuration){TeaLeaf.Env.tlSendPageSummary=function(){var q,l,j,p,m,o,n;q=TeaLeaf;l=q.Configuration;j=q.Env;p=q.Event;m=j.Configuration;o=p.Configuration;if(l.tlSDK||!m.tlinitpost){return}m.tlinitpost=false;n=new p(q.$C("PERFORMANCE"),q.$C("INIT"));p.PageLoadMilliSecs=p.tlDateDiff(q.tlStartLoad,n.date);p.SetType=n.EventType;if(!p.SetSubType){p.SetSubType=n.EventSubType}else{p.SetSubType+="; "+n.EventSubType}o.tlinitflag=true;j.tlInfo(n);j.tlDOMDocumentInfo(n);j.tlDOMWindowInfo(n);j.tlDOMScreenInfo(n);j.tlPluginInfo(n);n.tlSend(true)};TeaLeaf.Env.tlInfo=function(c){c.tlPushXML(TeaLeaf.$C("Info"));var d=[TeaLeaf.$C("PageLoadMilliSecs"),TeaLeaf.Event.tlGetRenderTime(),TeaLeaf.$C("Version"),TeaLeaf.Event.tlGetJSVersion(),TeaLeaf.$C("TimezoneOffset"),c.date.getTimezoneOffset()];c.tlAddData(d);c.tlPopXML()};TeaLeaf.Env.tlDOMDocumentInfo=function(h){var j,f,g;g=TeaLeaf;h.tlPushXML(g.$C("Document"));j=[g.$C("Title"),document.title,g.$C("Referer"),document.referer,g.$C("ContentType"),document.contentType,g.$C("LastModified"),document.lastModified,g.$C("CharacterSet"),document.characterSet,g.$C("Height"),document.height,g.$C("Width"),document.width];h.tlAddData(j);f=[g.$C("Anchors"),document.anchors.length,g.$C("Applets"),document.applets.length,g.$C("Embeds"),document.embeds.length,g.$C("Forms"),document.forms.length,g.$C("Images"),document.images.length,g.$C("BadImages"),(g.tlBrowserIsWebKit()?0:g.Event.tlBadImageCount()),g.$C("Links"),document.links.length,g.$C("Plugins"),document.plugins.length];h.tlAddData(f);h.tlPopXML()};TeaLeaf.Env.tlDOMWindowInfo=function(l){var h,m,o,j;h=TeaLeaf;l.tlPushXML(h.$C("Window"));m=[h.$C("WindowHref"),escape(window.location.href),h.$C("WindowProtocol"),window.location.protocol,h.$C("WindowHost"),window.location.host,h.$C("WindowHostName"),window.location.hostname,h.$C("WindowPort"),window.location.port,h.$C("WindowPathName"),window.location.pathname];l.tlAddData(m);if(window.innerHeight&&window.innerWidth){l.tlAddData([h.$C("ClientSize"),(window.innerWidth+"x"+window.innerHeight)])}else{if(document.body){if(document.body.clientWidth&&document.body.clientHeight){l.tlAddData([h.$C("ClientSize"),(document.body.clientHeight+"x"+document.body.clientWidth)])}}}o=[h.$C("FullScreen"),navigator.fullScreen,h.$C("Frames"),window.frames.length];if(typeof window.sessionStorage==="object"){try{j=window.sessionStorage.TLTWID;if(j==null){j=h.makeRandomString(6);window.sessionStorage.TLTWID=j}}catch(n){j=null}finally{l.tlAddData([h.$C("WindowId"),j])}}l.tlAddData(o);l.tlPopXML()};TeaLeaf.Env.tlDOMNavigatorInfo=function(c){c.tlPushXML(TeaLeaf.$C("Navigator"));var d=[TeaLeaf.$C("AppCodeName"),navigator.appCodeName,TeaLeaf.$C("AppName"),navigator.appName,TeaLeaf.$C("AppVersion"),navigator.appVersion,TeaLeaf.$C("BrowserLanguage"),navigator.browserLanguage,TeaLeaf.$C("CookieEnabled"),navigator.cookieEnabled,TeaLeaf.$C("CPUClass"),navigator.cpuClass,TeaLeaf.$C("Language"),navigator.language,TeaLeaf.$C("OSCPU"),navigator.oscpu,TeaLeaf.$C("Platform"),navigator.platform,TeaLeaf.$C("Product"),navigator.product,TeaLeaf.$C("SystemLanguage"),navigator.systemLanguage,TeaLeaf.$C("UserAgent"),navigator.userAgent,TeaLeaf.$C("UserLanguage"),navigator.userLanguage,TeaLeaf.$C("Vendor"),navigator.vendor,TeaLeaf.$C("VendorSub"),navigator.vendorSub];c.tlAddData(d);c.tlPopXML()};TeaLeaf.Env.tlDOMScreenInfo=function(c){c.tlPushXML(TeaLeaf.$C("Screen"));var d=[TeaLeaf.$C("AvailHeight"),screen.availHeight,TeaLeaf.$C("AvailLeft"),screen.availLeft,TeaLeaf.$C("AvailTop"),screen.availTop,TeaLeaf.$C("AvailWidth"),screen.availWidth,TeaLeaf.$C("BufferDepth"),screen.bufferDepth,TeaLeaf.$C("ColorDepth"),screen.colorDepth,TeaLeaf.$C("DeviceXDPI"),screen.deviceXDPI,TeaLeaf.$C("DeviceYDPI"),screen.deviceYDPI,TeaLeaf.$C("FontSmoothingEnabled"),screen.fontSmoothingEnabled,TeaLeaf.$C("Height"),screen.height,TeaLeaf.$C("Left"),screen.left,TeaLeaf.$C("LogicalXDPI"),screen.logicalXDPI,TeaLeaf.$C("LogicalYDPI"),screen.logicalYDPI,TeaLeaf.$C("Top"),screen.top,TeaLeaf.$C("UpdateInterval"),screen.updateInterval,TeaLeaf.$C("Width"),screen.width];c.tlAddData(d);c.tlPopXML()};TeaLeaf.Env.tlPluginInfo=function(n){if(window.ActiveXObject){for(var r=0;r<TeaLeaf.Env.Configuration.tlPlugins.length;r++){if(!TeaLeaf.Env.Configuration.tlPlugins[r].tlenable){continue}var j=TeaLeaf.Env.Configuration.tlPlugins[r].tlIEplugin;try{var m=new ActiveXObject(j);if(m){n.tlPushXML(TeaLeaf.$C("Plugin"));var o=[TeaLeaf.$C("Pluginname"),TeaLeaf.Env.Configuration.tlPlugins[r].tlpluginname,TeaLeaf.$C("Version"),TeaLeaf.Env.Configuration.tlPlugins[r].tlversion];n.tlAddData(o);n.tlPopXML()}}catch(p){}}}else{for(var r=0;r<navigator.plugins.length;r++){for(var s=0;s<TeaLeaf.Env.Configuration.tlPlugins.length;s++){if(!TeaLeaf.Env.Configuration.tlPlugins[s].tlenable){continue}var q=navigator.plugins[r].name.substr(0,TeaLeaf.Env.Configuration.tlPlugins[s].tlpluginname.length);if(q==TeaLeaf.Env.Configuration.tlPlugins[s].tlpluginname){TeaLeaf.Env.Configuration.tlPlugins[s].tlenable=false;n.tlPushXML(TeaLeaf.$C("Plugin"));var o=[TeaLeaf.$C("Pluginname"),TeaLeaf.Env.Configuration.tlPlugins[s].tlpluginname,TeaLeaf.$C("Version"),TeaLeaf.Env.Configuration.tlPlugins[s].tlversion];n.tlAddData(o);n.tlPopXML()}}}}};TeaLeaf.Env.CallInit=function(){TeaLeaf.addOnLoad(TeaLeaf.Env.tlSendPageSummary)};if(TeaLeaf.Env.Configuration.tlinit==false){TeaLeaf.Env.Configuration.tlinit=true;TeaLeaf.Env.CallInit()}}if(typeof TeaLeaf!=="undefined"&&((typeof TeaLeaf.replay==="function")?!TeaLeaf.replay():!TeaLeaf.replay)&&TeaLeaf.Client&&TeaLeaf.Client.Configuration){TeaLeaf.Client.tlTimeoutID=-1;TeaLeaf.Client.tlHasUserMovement=false;TeaLeaf.Client.tlUserMovement=function(){TeaLeaf.Client.tlHasUserMovement=true;TeaLeaf.Event.tlRemoveHandler(document,"mousemove",TeaLeaf.Client.tlUserMovement,false)};TeaLeaf.Client.EmptyMask=function(b){return""};TeaLeaf.Client.BasicMask=function(b){if(!b||!b.value){return null}return"XXXXXX"};TeaLeaf.Client.PreserveMask=function(d){var f,g;if(!d||!d.value){return null}f=TeaLeaf.Client.Configuration.tlPrivacyMask;g=d.value;g=g.replace(/[A-Z]/g,f.upperChar);g=g.replace(/[a-z]/g,f.lowerChar);g=g.replace(/[0-9]/g,f.numericChar);g=g.replace(/[^A-Za-z0-9]/g,f.symbolChar);return g};TeaLeaf.Client.getFieldBlockMatch=function(d){var f,g;g=TeaLeaf.Client.Configuration.tlFieldBlock;if(typeof d==="string"){d=document.getElementById(d)}if(!d){return null}for(f=0;f<g.length;f++){if(g[f].id){if(!g[f].idRE){g[f].idRE=new RegExp(g[f].id,(g[f].caseinsensitive?"i":""))}if(g[f].idRE.test(d.id)){return g[f]}}if(g[f].name){if(!g[f].nameRE){g[f].nameRE=new RegExp(g[f].name,(g[f].caseinsensitive?"i":""))}if(g[f].nameRE.test(d.name)){return g[f]}}}return null};TeaLeaf.Client.tlIsReplace=function(b){if(typeof b==="string"){b=document.getElementById(b)}if(!b){return false}if(TeaLeaf.Client.getFieldBlockMatch(b)){return true}if(b.type==="password"){return TeaLeaf.Client.Configuration.tlpassword===2}return false};TeaLeaf.Client.tlReplaceValue=function(d){var c;if(typeof d==="string"){d=document.getElementById(d)}if(!d){return null}c=TeaLeaf.Client.getFieldBlockMatch(d);if(c){return c.mask(d)}return d.value};TeaLeaf.Client.tlIsExcluded=function(d){var c;if(typeof d==="string"){d=document.getElementById(d)}if(!d){return false}c=TeaLeaf.Client.getFieldBlockMatch(d);if(c){return c.exclude}if(d.type==="password"){return TeaLeaf.Client.Configuration.tlpassword===2}return false};TeaLeaf.Client.tlGetName=function(g){if(g==null){return null}var d=g.id;if(d&&d!=""){return d}var f=g.name;if(f&&f!=""){return f}return null};TeaLeaf.Client.tlGetEventSource=function(c){var d;d=null;if(!c){return null}if(c.srcElement){d=c.srcElement}else{d=c.target;if(!d){d=c.explicitOriginalTarget}if(!d){d=c.originalTarget}}if(d&&d.tagName==="HTML"){return null}if(d&&!d.name){if(d.parentNode&&d.parentNode.tagName){if(d.parentNode.tagName=="A"||d.parentNode.tagName=="LINK"){d=d.parentNode}}}if(!d||!d.tagName){d=window.document.body}return d};TeaLeaf.Client.tlGetAnchor=function(g,d){if(g==null){return null}if(g.name&&g.name!=""){return null}var f;for(f=0;f<document.anchors.length;f++){if(document.anchors[f]==g){if(d){return"<AnchorElement>"+f+"</AnchorElement>\r\n"}else{return"Anchor-"+f}}}for(f=0;f<document.links.length;f++){if(document.links[f]==g){if(d){return"<LinkElement>"+f+"</LinkElement>\r\n"}else{return"Link-"+f}}}return null};TeaLeaf.Client.checkIsInput=function(b){if(typeof(b)=="string"){b=document.getElementById(b)}switch(b.tagName){case"INPUT":case"SELECT":case"TEXTAREA":return true}return false};TeaLeaf.Event.tlFormatXMLName=function(h){if(!h||h.length<=0){return null}var f="";if(!TeaLeaf.Event.tlNameStartChar(h.charCodeAt(0))){f="_"}var g=h.length;var j;for(j=0;j<g;j++){if(TeaLeaf.Event.tlNameChar(h.charCodeAt(j))){f=f+h.charAt(j)}else{f=f+"_"}}return f};TeaLeaf.Event.tlNameStartChar=function(b){return(b>=65&&b<=90)||b==95||(b>=97&&b<=122)||(b>=192&&b<=214)||(b>=216&&b<=246)||(b>=248&&b<=767)||(b>=880&&b<=893)||(b>=895&&b<=8191)||(b>=8204&&b<=8205)||(b>=8304&&b<=8591)||(b>=11264&&b<=12271)||(b>=12289&&b<=55295)||(b>=63744&&b<=64975)||(b>=65008&&b<=65533)};TeaLeaf.Event.tlNameChar=function(b){return TeaLeaf.Event.tlNameStartChar(b)||b==45||b==46||(b>=48&&b<=57)||b==183||(b>=768&&b<=879)||(b>=8255&&b<=8256)};TeaLeaf.Client.tlQueuedKeys="";TeaLeaf.Client.getNormalizedKeyCode=function(c){var d;if(!c||!c.keyCode||(c.keyCode<32&&c.keyCode!==8&&c.keyCode!==20)){return null}d="";if(c.ctrlKey){d+="c-"}if(c.altKey){d+="a-"}if(c.shiftKey){d+="s-"}if(!TeaLeaf.tlBrowserIsIE()){switch(c.keyCode){case 59:d+=186;break;default:d+=c.keyCode;break}}else{d+=c.keyCode}return d};TeaLeaf.Client.tlQueueKey=function(m){var o,p,n,q,l,j;q=TeaLeaf;l=q.Client;j=l.Configuration;l.tlSendResize();l.tlSendScroll(true);if(!m){m=window.event}p=l.tlGetEventSource(m);if(!p){return}if(!p.TeaLeafFocusTime){p.TeaLeafFocusTime=new Date()}if(l.tlQueuedKeySource){if(l.tlQueuedKeySource!=p){if(l.tlQueuedKeys&&l.tlQueuedKeys.length>0){l.tlSendKeys()}l.tlQueuedKeySource=p}}else{l.tlQueuedKeySource=p}o=l.tlGetName(p);if(!o){o=l.tlGetXPathFromNode(p);if(!o){if(!l.tlGetAnchor(p,false)){l.tlQueuedKeySource=null}return}else{l.tlQueuedKeySource=p}}else{if(l.tlIsReplace(p)){l.tlQueuedKeysCount++;return}if(l.tlIsExcluded(p)){l.tlQueuedKeys=null;l.tlQueuedKeysCount++;return}}n=l.getNormalizedKeyCode(m);if(n){if(l.tlQueuedKeys&&l.tlQueuedKeys.length>0){l.tlQueuedKeys+=";"}l.tlQueuedKeys+=n}};TeaLeaf.Client.tlSendKeys=function(){var v=TeaLeaf.Client,C,D;if(!v.tlQueuedKeySource||(!v.tlQueuedKeys&&!v.tlQueuedKeysCount)){return}var E=v.tlQueuedKeySource;var z=v.tlQueuedKeys;var I=v.tlQueuedKeysCount;v.tlQueuedKeySource=null;v.tlQueuedKeys="";v.tlQueuedKeysCount=0;D=v.tlGetXPathFromNode(E);if(!D&&v.Configuration.tlDiscardInvalidXPath){return}var u=false;if(TeaLeaf.Client.tlIsReplace(E)){u=true;return}var x=false;if(TeaLeaf.Client.tlIsExcluded(E)){x=true;z=null}var H=TeaLeaf.Client.tlGetName(E);var G=null;C=E.id;if(!TeaLeaf.Client.CheckIfIdValid(E)){C=""}var w=new TeaLeaf.Event(TeaLeaf.$C("GUI"),TeaLeaf.$C("KeyUp"));var y=[TeaLeaf.$C("Name"),E.name,TeaLeaf.$C("Id"),C,TeaLeaf.$C("Lev"),G,TeaLeaf.$C("ElementType"),E.type,TeaLeaf.$C("TagName"),E.tagName,TeaLeaf.$C("XPath"),D,TeaLeaf.$C("KeyCount"),I];w.tlAddData(y);if(x){w.tlAddData([TeaLeaf.$C("Excluded"),TeaLeaf.$C("True")])}else{if(u){var A=TeaLeaf.Client.tlGetReplaceValue(E);var t=[TeaLeaf.$C("ValueIn"),H,H,A,TeaLeaf.$C("KeyCode"),z];w.tlAddData(t)}else{var F=TeaLeaf.Event.tlFormatXMLName(H);if(!F){F=D;F=TeaLeaf.Event.tlFormatXMLName(F)}var B=[TeaLeaf.$C("ValueIn"),F,F,E.value,TeaLeaf.$C("KeyCode"),z];w.tlAddData(B)}}w.tlSend()};TeaLeaf.Client.tlSendResize=function(){if(!TeaLeaf.Client.ResizeClientX&&!TeaLeaf.Client.ResizeClientY){return}var c=new TeaLeaf.Event(TeaLeaf.$C("GUI"),TeaLeaf.$C("Resize"));var d=[TeaLeaf.$C("ClientX"),TeaLeaf.Client.ResizeClientX,TeaLeaf.$C("ClientY"),TeaLeaf.Client.ResizeClientY,TeaLeaf.$C("ScreenX"),TeaLeaf.Client.ResizeScreenX,TeaLeaf.$C("ScreenY"),TeaLeaf.Client.ResizeScreenY];c.tlAddData(d);TeaLeaf.Client.ResizeClientX=null;TeaLeaf.Client.ResizeClientY=null;TeaLeaf.Client.ResizeScreenX=null;TeaLeaf.Client.ResizeScreenY=null;c.tlSend()};TeaLeaf.Client.tlQueueScroll=function(c){var d=true;if(!c){c=window.event}if(c.clientX){if(TeaLeaf.Client.ScrollClientX==c.clientX&&TeaLeaf.Client.ScrollClientY==c.clientY&&TeaLeaf.Client.ScrollScreenX==c.screenX&&TeaLeaf.Client.ScrollScreenY==c.screenY){d=false}else{TeaLeaf.Client.ScrollClientX=c.clientX;TeaLeaf.Client.ScrollClientY=c.clientY;TeaLeaf.Client.ScrollScreenX=c.screenX;TeaLeaf.Client.ScrollScreenY=c.screenY}}else{if(TeaLeaf.Client.ScrollHeight==c.target.scrollHeight&&TeaLeaf.Client.ScrollWidth==c.target.scrollWidth&&TeaLeaf.Client.ScrollTop==c.target.scrollTop&&TeaLeaf.Client.ScrollLeft==c.target.scrollLeft){d=false}else{TeaLeaf.Client.ScrollHeight=c.target.scrollHeight;TeaLeaf.Client.ScrollWidth=c.target.scrollWidth;TeaLeaf.Client.ScrollTop=c.target.scrollTop;TeaLeaf.Client.ScrollLeft=c.target.scrollLeft}}return d};TeaLeaf.Client.tlCheckScroll=function(){var d=TeaLeaf.Client.Configuration.tlWindowHandlers;for(var c=0;c<d.length;c++){if(d[c].domevent=="scroll"&&d[c].load){return true}}return false};TeaLeaf.Client.tlSendScroll=function(g){if(TeaLeaf.Client.tlCheckScroll()==false){return}var m=0,h=0;if(typeof(window.pageYOffset)=="number"){h=window.pageYOffset;m=window.pageXOffset}else{if(document.body&&(document.body.scrollLeft||document.body.scrollTop)){h=document.body.scrollTop;m=document.body.scrollLeft}else{if(document.documentElement&&(document.documentElement.scrollLeft||document.documentElement.scrollTop)){h=document.documentElement.scrollTop;m=document.documentElement.scrollLeft}}}if(TeaLeaf.Client.Configuration.tlScrollOffsetX==0){TeaLeaf.Client.Configuration.tlScrollOffsetX=m}else{if(m>TeaLeaf.Client.Configuration.tlScrollOffsetX){TeaLeaf.Client.Configuration.tlScrollDirection="right"}else{if(m<TeaLeaf.Client.Configuration.tlScrollOffsetX){TeaLeaf.Client.Configuration.tlScrollDirection="left"}}}if(TeaLeaf.Client.Configuration.tlScrollOffsetY==0){TeaLeaf.Client.Configuration.tlScrollOffsetY=h}else{if(h>TeaLeaf.Client.Configuration.tlScrollOffsetY){TeaLeaf.Client.Configuration.tlScrollDirection="down"}else{if(h<TeaLeaf.Client.Configuration.tlScrollOffsetY){TeaLeaf.Client.Configuration.tlScrollDirection="up"}}}if(m>0){TeaLeaf.Client.Configuration.tlScrollX=m}if(h>0){TeaLeaf.Client.Configuration.tlScrollY=h}if(g==true||(TeaLeaf.Client.Configuration.tlScrollDirectionOrig!=TeaLeaf.Client.Configuration.tlScrollDirection)){var j=new TeaLeaf.Event(TeaLeaf.$C("GUI"),TeaLeaf.$C("scroll"));var l=[TeaLeaf.$C("ClientX"),TeaLeaf.Client.ScrollClientX,TeaLeaf.$C("ClientY"),TeaLeaf.Client.ScrollClientY,TeaLeaf.$C("ScreenX"),TeaLeaf.Client.ScrollScreenX,TeaLeaf.$C("ScreenY"),TeaLeaf.Client.ScrollScreenY,TeaLeaf.$C("ScrollHeight"),TeaLeaf.Client.ScrollHeight,TeaLeaf.$C("ScrollWidth"),TeaLeaf.Client.ScrollWidth,TeaLeaf.$C("ScrollTop"),TeaLeaf.Client.ScrollTop,TeaLeaf.$C("ScrollLeft"),TeaLeaf.Client.ScrollLeft,TeaLeaf.$C("OrigX"),TeaLeaf.Client.Configuration.tlScrollOffsetX+"",TeaLeaf.$C("OrigY"),TeaLeaf.Client.Configuration.tlScrollOffsetY+"",TeaLeaf.$C("CurrX"),TeaLeaf.Client.Configuration.tlScrollX+"",TeaLeaf.$C("CurrY"),TeaLeaf.Client.Configuration.tlScrollY+"",TeaLeaf.$C("OrigDirection"),TeaLeaf.Client.Configuration.tlScrollDirectionOrig,TeaLeaf.$C("CurrDirection"),TeaLeaf.Client.Configuration.tlScrollDirection];j.tlAddData(l);j.tlSend()}TeaLeaf.Client.Configuration.tlScrollOffsetX=TeaLeaf.Client.Configuration.tlScrollX;TeaLeaf.Client.Configuration.tlScrollOffsetY=TeaLeaf.Client.Configuration.tlScrollY;TeaLeaf.Client.Configuration.tlScrollDirectionOrig=TeaLeaf.Client.Configuration.tlScrollDirection};TeaLeaf.Client.tlFindAncestorByTag=function(d,f){var g=d.parentNode;while(g&&g!=window.document){if(g.nodeType!=1){continue}if(g.tagName==f){break}else{g=g.parentNode}}return g};TeaLeaf.Client.tlCheckBlackList=function(g){var h,j,f;if(!TeaLeaf.Client.Configuration.tlIDBlackList||!TeaLeaf.Client.Configuration.tlIDBlackList.length){return false}if(g){for(h=0;h<TeaLeaf.Client.Configuration.tlIDBlackList.length;h++){f=new RegExp(TeaLeaf.Client.Configuration.tlIDBlackList[h],"g");j=g.match(f);if(j){return true}}}return false};TeaLeaf.Client.tlCheckWhiteList=function(g){var h,j,f;if(!TeaLeaf.Client.Configuration.tlIDWhiteList||!TeaLeaf.Client.Configuration.tlIDWhiteList.length){return true}if(g){for(h=0;h<TeaLeaf.Client.Configuration.tlIDWhiteList.length;h++){f=new RegExp(TeaLeaf.Client.Configuration.tlIDWhiteList[h],"g");j=g.match(f);if(j){return true}}}return false};TeaLeaf.Client.tlGetXPathFromNode=function(u){if(!u){return null}var p=[];var n=u;var o=null;var j=null;for(var q in TeaLeaf.Client.Configuration.tlSpecialChildNodeTags){if(n.tagName.toString()==q){n=n.parentNode}}var r=false;for(r=TeaLeaf.Client.CheckIfIdValid(n);n!=window.document&&(!r);r=TeaLeaf.Client.CheckIfIdValid(n)){o=null;j=null;switch(n.tagName){case"TD":if(j=TeaLeaf.Client.tlFindAncestorByTag(n,"TR")){o=j.cells}break;case"TR":if(j=TeaLeaf.Client.tlFindAncestorByTag(n,"TABLE")){o=j.rows}break;case"OPTION":if(j=TeaLeaf.Client.tlFindAncestorByTag(n,"SELECT")){o=j.options}break;default:j=n.parentNode;if(!j){j=window.document}o=j.childNodes;break}if(o==null){return null}var s=0;for(var q=0;q<o.length;q++){if(o[q].nodeType==1&&o[q].tagName==n.tagName){if(o[q]==n){p[p.length]=[n.tagName.toUpperCase(),s];break}s++}}n=j}if(r){p[p.length]=[n.id]}if(!p.length){return null}var t=[];for(var q=p.length-1;q>=0;q--){if(p[q].length>1){t[t.length]="['"+p[q][0]+"',"+p[q][1]+"]"}else{t[t.length]="['"+p[q][0].toString().replace(/'/g,"\\'")+"']"}}return"["+t.join(",")+"]"};TeaLeaf.Client.CheckIfIdValid=function(f){var g;if(!f||!f.id||typeof(f.id)!="string"){return false}if(TeaLeaf.Client.tlCheckBlackList(f.id)===true){return false}if(TeaLeaf.Client.tlCheckWhiteList(f.id)===false){return false}if(!TeaLeaf.Client.Configuration.tlUniqueIDCheckEnabled){return true}g=f.id;f.id=(new Date()).getTime()+"_TeaLeaf";try{if(!document.getElementById(g)){f.id=g;return true}else{f.id=g;return false}}catch(d){return false}finally{f.id=g}};TeaLeaf.Client.tlGetNodeFromXPath=function(path,decode){if(path==null){return null}if(decode){path=TeaLeaf.Event.tlXMLDecode(path)}var xpath=eval(path);if(xpath==null){return null}var cur_node=window.document;for(var i=0;i<xpath.length;i++){found=false;if(xpath[i].length==1){cur_node=document.getElementById(xpath[i]);if(cur_node==null){return null}}else{k=0;switch(cur_node.tagName){case"TABLE":children=cur_node.rows;break;case"TR":children=cur_node.cells;break;case"SELECT":children=cur_node.options;break;default:children=cur_node.childNodes;break}for(var j=0;j<children.length;j++){if(children[j].nodeType!=1){continue}if(children[j].tagName.toUpperCase()==xpath[i][0]){if(k==xpath[i][1]){cur_node=children[j];found=true;break}k++}}if(!found){return null}}}return cur_node};window.TeaLeaf_Client_tlGetNodeFromXPath=TeaLeaf.Client.tlGetNodeFromXPath;TeaLeaf.Private.tlPrevEvent;TeaLeaf.Private.setLastProcessedEvent=function(d){var g=TeaLeaf.Private,f;if(!d){return}if(!g.tlPrevEvent){g.tlPrevEvent={}}g.tlPrevEvent.type=d.type;g.tlPrevEvent.button=d.button;g.tlPrevEvent.clientX=d.clientX;g.tlPrevEvent.clientY=d.clientY;if(typeof d.keyCode!=="undefined"){g.tlPrevEvent.keyCode=d.keyCode}else{g.tlPrevEvent.keyCode=f}if(typeof d.charCode!=="undefined"){g.tlPrevEvent.charCode=d.charCode}else{g.tlPrevEvent.charCode=f}if(typeof d.timeStamp!=="undefined"){if(d.timeStamp.getTime){g.tlPrevEvent.timeStamp=d.timeStamp.getTime()}else{g.tlPrevEvent.timeStamp=d.timeStamp}}else{g.tlPrevEvent.timeStamp=new Date().getTime()}if(typeof d.target!=="undefined"){g.tlPrevEvent.target=d.target}else{g.tlPrevEvent.target=f}if(typeof d.srcElement!=="undefined"){g.tlPrevEvent.srcElement=d.srcElement}else{g.tlPrevEvent.srcElement=f}};TeaLeaf.Private.getLastProcessedEvent=function(){return TeaLeaf.Private.tlPrevEvent};TeaLeaf.Client.isDuplicateEvent=function(g){var h=TeaLeaf.Private,j=h.getLastProcessedEvent();if(!j||!g){h.setLastProcessedEvent(g);return false}if(typeof g.timeStamp!=="undefined"){var f=g.timeStamp.getTime?g.timeStamp.getTime():g.timeStamp;if(j.timeStamp!==f){h.setLastProcessedEvent(g);return false}}else{g.timeStamp=new Date().getTime();if(Math.abs(g.timeStamp-j.timeStamp)>300){h.setLastProcessedEvent(g);return false}}if(j.type!==g.type){h.setLastProcessedEvent(g);return false}if(j.target!==g.target){h.setLastProcessedEvent(g);return false}if(j.srcElement!==g.srcElement){h.setLastProcessedEvent(g);return false}if(j.button!==g.button){h.setLastProcessedEvent(g);return false}if(j.clientX!==g.clientX||j.clientY!==g.clientY){h.setLastProcessedEvent(g);return false}if(j.keyCode!==g.keyCode){h.setLastProcessedEvent(g);return false}h.setLastProcessedEvent(g);return true};TeaLeaf.Client.tlCheckAttributes=function(p,o){var s=[];var l=TeaLeaf.Client.Configuration.tlAttributeCapture;for(var r=0;r<l.length;r++){if(l[r].tlevent==o.type){var n=l[r].tltagname.toLowerCase();var q=p.tagName.toLowerCase();if(n==q){var m=p.getAttribute(l[r].tlattributename);if(m){s.push(l[r].tlattributename,escape(m))}}}}return s};TeaLeaf.Client.tlOrientationChangeEvent=function(o){var l=TeaLeaf,m=l.Client,q=m.Configuration,p,n,r;if(!o){o=window.event}n=new l.Event(l.$C("GUI"),o.type);if(navigator){var s=navigator.userAgent.toLowerCase()}if(s.indexOf("android")>-1){r=TeaLeaf.Client.Configuration.tlAndroidOrientation+window.orientation;if(r==270){r=-90;TeaLeaf.Client.Configuration.tlAndroidOrientation=90}else{if(r==360){r=0;TeaLeaf.Client.Configuration.tlAndroidOrientation=0}else{TeaLeaf.Client.Configuration.tlAndroidOrientation+=r}}}else{r=window.orientation}tlAddNameValueArray=[l.$C("ClientSize"),(window.innerWidth+"x"+window.innerHeight),"orientation",r];n.tlAddData(tlAddNameValueArray);n.tlSend()};TeaLeaf.Client.tlMotionEvent=function(m){var h=TeaLeaf,j=h.Client,o=j.Configuration,n,l;if(!m){m=window.event}l=new h.Event(h.$C("GUI"),m.type);tlAddNameValueArray=["acceleration",m.acceleration,"accelerationIncludingGravity",m.accelerationIncludingGravity,"interval",m.interval,"rotationRate",m.rotationRate];l.tlAddData(tlAddNameValueArray);l.tlSend()};TeaLeaf.Client.tlDeviceOrientationEvent=function(m){var h=TeaLeaf,j=h.Client,o=j.Configuration,n,l;if(!m){m=window.event}l=new h.Event(h.$C("GUI"),m.type);tlAddNameValueArray=["alpha",m.alpha,"beta",m.beta,"gamma",m.gamma];l.tlAddData(tlAddNameValueArray);l.tlSend()};TeaLeaf.Client.tlAddMobileEventRef=function(M,F){var H=TeaLeaf,I=H.Client,x=I.Configuration,z,y,K,D,C,G,A,w,E,J,L,v,B;if(!M){M=window.event}I.tlSendScroll(true);y=I.tlGetEventSource(M);if(!y){return}B=I.tlGetXPathFromNode(y);if(!B&&x.tlDiscardInvalidXPath){return}D=[];if(x.tlEnableAttr){D=I.tlCheckAttributes(y,M)}G=new H.Event(H.$C("GUI"),M.type);J=I.tlGetName(y);L=y.id;if(!I.CheckIfIdValid(y)){L=""}tlAddNameValueArray=[H.$C("Name"),y.name,H.$C("Id"),L,H.$C("ElementType"),y.type,H.$C("TagName"),y.tagName,H.$C("XPath"),B];G.tlAddData(tlAddNameValueArray);for(var z=0;z<F.length;z++){D.push(F[z])}if(D){G.tlAddData(D)}G.tlSend()};TeaLeaf.Client.tlAddTouchEvent=function(c){if(c.scale){var d=["cancelable",c.cancelable,"screenX",c.screenX,"screenY",c.screenY,"scale",c.scale,"rotation",c.rotation];TeaLeaf.Client.tlAddMobileEventRef(c,d)}};TeaLeaf.Client.tlAddGestureEvent=function(c){if(c.cancelable){var d=["cancelable",c.cancelable]}TeaLeaf.Client.tlAddMobileEventRef(c,d)};TeaLeaf.Client.tlAddEvent=function(O){var J=TeaLeaf,K=J.Client,y=K.Configuration,B,A,M,z,G,F,E,I,C,x,H,L,N,w,D;if(!O){O=window.event}A=K.tlGetEventSource(O);if(!A){return}if(O.type.toLowerCase()==="mousedown"&&A.tagName==="BODY"){return}D=K.tlGetXPathFromNode(A);if(!D&&y.tlDiscardInvalidXPath){return}F=[];if(y.tlEnableAttr){F=K.tlCheckAttributes(A,O)}K.tlSendKeys();K.tlSendResize();K.tlSendScroll(true);if(!A.TeaLeafFocusTime){switch(O.type.toLowerCase()){case"keyup":case"change":case"click":case"dblclick":case"mousedown":A.TeaLeafFocusTime=new Date();break}}if(O.type.toLowerCase()==="blur"&&A.type&&A.type.toLowerCase()==="application/x-shockwave-flash"){return}if(O.type.toLowerCase()==="click"&&K.checkIsInput(A)){J.Event.Configuration.tlidoflastvisitedcontrol=K.tlGetName(A)}if(O.type.toLowerCase()==="click"&&(A.tagName.toUpperCase()==="A")&&J.tlBrowserIsIE()){y.tlIEhref=false;C=A.href;if(C==="#"){y.tlIEhref=true}else{x="javascript:";E=C.substr(0,x.length);if(E.toLowerCase()==x){y.tlIEhref=true}}}I=new J.Event(J.$C("GUI"),O.type);L=K.tlGetName(A);N=A.id;if(!K.CheckIfIdValid(A)){N=""}z=[J.$C("Name"),A.name,J.$C("Id"),N,J.$C("ElementType"),A.type,J.$C("TagName"),A.tagName,J.$C("AltKey"),O.altKey?J.$C("True"):null,J.$C("CtrlKey"),O.ctrlKey?J.$C("True"):null,J.$C("ShiftKey"),O.shiftKey?J.$C("True"):null,J.$C("XPath"),D];I.tlAddData(z);if(y.tlEnableAttr&&F&&F.length>0){I.tlAddData(F)}if(O.type.toLowerCase()==="blur"&&A.TeaLeafFocusTime){M=new Date();I.tlAddData([J.$C("TimeInControl"),J.Event.tlDateDiff(M,A.TeaLeafFocusTime)]);A.TeaLeafFocusTime=null}if(K.tlIsExcluded(A)){I.tlAddData([J.$C("Excluded"),J.$C("True")])}else{w=null;H=null;G=[];if(!A.value&&O.type.toLowerCase()==="change"&&A.tagName.toUpperCase()==="SELECT"){B=A.selectedIndex;if(B>=0&&B<A.options.length){w=escape(A.options[B].text)}}else{w=K.tlReplaceValue(A)}if(w){H=J.Event.tlFormatXMLName(L);if(!H){H=D;H=J.Event.tlFormatXMLName(H)}G=[J.$C("ValueIn"),H,H,w]}if(A.type&&(A.type.toLowerCase()==="checkbox"||A.type.toLowerCase()==="radio")){G.push(J.$C("Checked"),A.checked?J.$C("True"):J.$C("False"))}I.tlAddData(G)}I.tlSend()};TeaLeaf.Client.tlHandleFormSubmit=function(y){TeaLeaf.Client.Configuration.tlactiontype="Submit";TeaLeaf.Client.tlSendKeys();TeaLeaf.Client.tlSendResize();TeaLeaf.Client.tlSendScroll(true);if(!y){y=window.event}var x=TeaLeaf.Client.tlGetEventSource(y);if(!x){return}var w;if(!x.name){var E=document.forms;for(w=0;w<E.length;w++){if(E[w]==x){x.name="Ordinal-"+w;break}}}if(!x.name){return}if(TeaLeaf.Client.tlIsReplace(x)){var u=TeaLeaf.Client.tlGetReplaceValue(x);var D=TeaLeaf.Client.tlGetName(x);var r=[TeaLeaf.$C("ValueIn"),D,D,u];s.tlAddData(r)}var s=new TeaLeaf.Event(TeaLeaf.$C("GUI"),y.type);var t=[TeaLeaf.$C("Name"),x.name,TeaLeaf.$C("Id"),x.id,TeaLeaf.$C("ElementType"),x.type,TeaLeaf.$C("TagName"),x.tagName,TeaLeaf.$C("AltKey"),y.altKey?TeaLeaf.$C("True"):null,TeaLeaf.$C("CtrlKey"),y.ctrlKey?TeaLeaf.$C("True"):null,TeaLeaf.$C("ShiftKey"),y.shiftKey?TeaLeaf.$C("True"):null,TeaLeaf.$C("NodeName"),y.nodeName,TeaLeaf.$C("NodeValue"),y.nodeValue,TeaLeaf.$C("VisitOrder"),TeaLeaf.Event.Configuration.tlvisitorder];s.tlAddData(t);var A=x.getElementsByTagName("INPUT");s.tlAddData([TeaLeaf.$C("InputFieldCount"),A.length]);s.tlPushXML(TeaLeaf.$C("InputFields"));for(w=0;w<A.length;w++){var B=A[w];if(!B.name){continue}s.tlPushXML(TeaLeaf.$C("Field")+w);var C=[TeaLeaf.$C("Name"),B.name,TeaLeaf.$C("Id"),B.id,TeaLeaf.$C("ElementType"),B.type,TeaLeaf.$C("TagName"),B.tagName];s.tlAddData(C);if(TeaLeaf.Client.tlIsExcluded(D)){s.tlAddData([TeaLeaf.$C("Excluded"),TeaLeaf.$C("True")])}else{if(TeaLeaf.Client.tlIsReplace(B.name)){var u=TeaLeaf.Client.tlGetReplaceValue(B);var D=TeaLeaf.Client.tlGetName(B);var r=[TeaLeaf.$C("ValueIn"),D,D,u];s.tlAddData(r)}else{var z=TeaLeaf.Event.tlFormatXMLName(B.name);var v=[TeaLeaf.$C("ValueIn"),z,z,B.value];s.tlAddData(v)}}s.tlPopXML()}s.tlPopXML();s.tlSend();TeaLeaf.Event.Configuration.tlvisitorder=""};TeaLeaf.Client.tlQueueResize=function(b){TeaLeaf.Client.tlSendKeys();TeaLeaf.Client.tlSendScroll(true);if(!b){b=window.event}if(b.clientX){TeaLeaf.ResizeClientX=b.clientX;TeaLeaf.ResizeClientY=b.clientY;TeaLeaf.ResizeScreenX=b.screenX;TeaLeaf.ResizeScreenY=b.screenY}else{TeaLeaf.ResizeClientX=b.target.width;TeaLeaf.ResizeClientY=b.target.height}};TeaLeaf.Client.tlHandleFormReset=function(s){TeaLeaf.Client.tlSendKeys();TeaLeaf.Client.tlSendResize();TeaLeaf.Client.tlSendScroll(true);if(!s){s=window.event}var r=TeaLeaf.Client.tlGetEventSource(s);if(!r){return}var q;if(!r.name){var u=document.forms;for(q=0;q<u.length;q++){if(u[q]==r){r.name="Ordinal-"+q;break}}}if(!r.name){return}if(TeaLeaf.Client.tlIsReplace(r)){var p=TeaLeaf.Client.tlGetReplaceValue(r);var t=TeaLeaf.Client.tlGetName(r);var m=[TeaLeaf.$C("ValueIn"),t,t,p];n.tlAddData(m)}var n=new TeaLeaf.Event(TeaLeaf.$C("GUI"),s.type);var o=[TeaLeaf.$C("Name"),r.name,TeaLeaf.$C("Id"),r.id,TeaLeaf.$C("ElementType"),r.type,TeaLeaf.$C("TagName"),r.tagName,TeaLeaf.$C("AltKey"),s.altKey?TeaLeaf.$C("True"):null,TeaLeaf.$C("CtrlKey"),s.ctrlKey?TeaLeaf.$C("True"):null,TeaLeaf.$C("ShiftKey"),s.shiftKey?TeaLeaf.$C("True"):null,TeaLeaf.$C("NodeName"),s.nodeName,TeaLeaf.$C("NodeValue"),s.nodeValue,TeaLeaf.$C("VisitOrder"),TeaLeaf.Event.Configuration.tlvisitorder];n.tlAddData(o);n.tlSend();TeaLeaf.tlVisitOrder=""};TeaLeaf.Client.tlAttachToAllControls=function(){TeaLeaf.Client.Configuration.tlcontrolsattached=true;TeaLeaf.Client.tlAttachToControls(window);try{var d;for(d=0;d<window.frames.length;d++){if(window==window.frames[d]){continue}TeaLeaf.Client.tlAttachToControls(window.frames[d])}}catch(c){}};TeaLeaf.Client.tlSingleAttach=function(){var tldomsingleelements=TeaLeaf.Client.Configuration.tlSingleAttach;for(var i=0;i<tldomsingleelements.length;i++){if(tldomsingleelements[i].domelementID&&tldomsingleelements[i].domelementID!=""){var tlelement=document.getElementById(tldomsingleelements[i].domelementID);if(tlelement){var func=eval(tldomsingleelements[i].tlhandler);TeaLeaf.Event.tlAddHandler(tlelement,tldomsingleelements[i].domevent,func,false)}}}};TeaLeaf.Client.tlAttachToControls=function(win){try{var handlers=TeaLeaf.Client.Configuration.tlWindowHandlers;for(var i=0;i<handlers.length;i++){if(handlers[i].load){var func=eval(handlers[i].tlhandler);TeaLeaf.Event.tlAddHandler(win,handlers[i].domevent,func,false)}}handlers=TeaLeaf.Client.Configuration.tlDocumentHandlers;for(var i=0;i<handlers.length;i++){if(handlers[i].load){var func=eval(handlers[i].tlhandler);TeaLeaf.Event.tlAddHandler(win.document,handlers[i].domevent,func,false)}}TeaLeaf.Client.tlProcessNode(win.document.body)}catch(e){}};TeaLeaf.Client.tlCheckAttach=function(control){var i,handlers,item_name,lower_item_name;if(control.TeaLeaf||control.TeaLeafExclude){return}control.TeaLeaf=true;switch(control.tagName){case"INPUT":case"SELECT":case"TEXTAREA":TeaLeaf.Event.tlAddHandler(control,"focus",TeaLeaf.Client.tlSetFocusTime,false);TeaLeaf.Event.tlAddHandler(control,"blur",TeaLeaf.Client.tlHandleBlur,false);TeaLeaf.Event.tlAddHandler(control,"change",TeaLeaf.Client.tlAddEvent,false);break}if(TeaLeaf.Client.Configuration.tlUniversalAttach){handlers=TeaLeaf.Client.Configuration.tlDocumentHandlers;for(i=0;i<handlers.length;i++){if(handlers[i].load){TeaLeaf.Event.tlAddHandler(control,handlers[i].domevent,eval(handlers[i].tlhandler),false)}}}};TeaLeaf.Client.tlProcessNode=function(m,q){var o,j,p,l;if(typeof(m)==="string"){m=document.getElementById(m)}if(!m){m=window.document.body}try{switch(m.tagName){case"INPUT":case"SELECT":case"TEXTAREA":TeaLeaf.Client.tlCheckAttach(m);break;default:if(TeaLeaf.Client.Configuration.tlUniversalAttach&&TeaLeaf.Client.tlTagNameAllowed(m.tagName)){TeaLeaf.Client.tlCheckAttach(m)}break}if(!q){p=["INPUT","SELECT","TEXTAREA"];for(o=0;o<p.length;o++){l=m.getElementsByTagName(p[o]);for(j=0;j<l.length;j++){TeaLeaf.Client.tlCheckAttach(l[j])}}if(TeaLeaf.Client.Configuration.tlUniversalAttach){if(TeaLeaf.Client.Configuration.tlExcludeTags){l=m.getElementsByTagName("*");for(o=0;o<l.length;o++){if(TeaLeaf.Client.tlTagNameAllowed(l[o].tagName)){TeaLeaf.Client.tlCheckAttach(l[o])}}}else{for(o in TeaLeaf.Client.Configuration.tlNodeTags){l=m.getElementsByTagName(o);for(j=0;j<l.length;j++){TeaLeaf.Client.tlCheckAttach(l[j])}}}}}}catch(n){}};TeaLeaf.Client.tlSetFocusTime=function(c){if(!c){c=window.event}var d=TeaLeaf.Client.tlGetEventSource(c);if(!d||d.type=="application/x-shockwave-flash"){return}var d=TeaLeaf.Client.tlGetEventSource(c);if(!d){return}if(!d.TeaLeafFocusTime){d.TeaLeafFocusTime=new Date()}if(TeaLeaf.Client.Configuration.tlsendfocus){TeaLeaf.Client.tlAddEvent(c)}};TeaLeaf.Client.tlHandleBlur=function(c){if(!c){c=window.event}var d=TeaLeaf.Client.tlGetEventSource(c);if(!d||d.type=="application/x-shockwave-flash"){return}TeaLeaf.Client.tlEndVisit(d);if(TeaLeaf.Client.checkIsInput(d)){TeaLeaf.Event.Configuration.tlidoflastvisitedcontrol=TeaLeaf.Client.tlGetName(d)}if(TeaLeaf.Client.Configuration.tlsendblur){TeaLeaf.Client.tlAddEvent(c)}d.TeaLeafFocusTime=null};TeaLeaf.Client.tlEndVisit=function(j){if(j.TeaLeafFocusTime){var g=TeaLeaf.Client.tlGetName(j);if(!g){g=TeaLeaf.Client.tlGetAnchor(j,false);if(g){g="LEVEL"+g}else{g="unnamed"}}var h=TeaLeaf.Event.tlDateDiff(j.TeaLeafFocusTime,new Date());var f=g+":"+h;if(TeaLeaf.Event.Configuration.tlvisitorder!=""){TeaLeaf.Event.Configuration.tlvisitorder=TeaLeaf.Event.Configuration.tlvisitorder+";"+f}else{TeaLeaf.Event.Configuration.tlvisitorder=f}}};TeaLeaf.Client.tlDetachFromAllControls=function(){TeaLeaf.Client.Configuration.tlcontrolsattached=false;TeaLeaf.Client.tlDetachFromControls(window);try{var d;for(d=0;d<window.frames.length;d++){var f=window.frames[d];TeaLeaf.Client.tlDetachFromControls(f)}}catch(g){}};TeaLeaf.Client.tlDetachFromControls=function(win){try{var handlers=TeaLeaf.Client.Configuration.tlWindowHandlers;for(var i=0;i<handlers.length;i++){var func=eval(handlers[i].tlhandler);TeaLeaf.Event.tlRemoveHandler(win,handlers[i].domevent,func,false)}handlers=TeaLeaf.Client.Configuration.tlDocumentHandlers;for(var i=0;i<handlers.length;i++){var func=eval(handlers[i].tlhandler);TeaLeaf.Event.tlRemoveHandler(win.document,handlers[i].domevent,func,false)}var items=win.document.getElementsByTagName("INPUT");var i;for(i=0;i<items.length;i++){TeaLeaf.Event.tlRemoveHandler(items[i],"change",TeaLeaf.Client.tlAddEvent,false);TeaLeaf.Event.tlRemoveHandler(items[i],"blur",TeaLeaf.Client.tlHandleBlur,false);items[i].TeaLeaf=false}items=win.document.getElementsByTagName("SELECT");for(i=0;i<items.length;i++){TeaLeaf.Event.tlRemoveHandler(items[i],"change",TeaLeaf.Client.tlAddEvent,false);TeaLeaf.Event.tlRemoveHandler(items[i],"blur",TeaLeaf.Client.tlHandleBlur,false);items[i].TeaLeaf=false}}catch(e){}};TeaLeaf.Client.tlAttachToControl=function(domelement,eventtype,eventHandler){if(eventHandler){TeaLeaf.Event.tlAddHandler(domelement,eventtype,eventHandler,false)}else{TeaLeaf.Event.tlAddHandler(domelement,eventtype,eval(TeaLeaf.Client.tlAddEvent),false)}};TeaLeaf.Client.tlDetachFromControl=function(domelement,eventtype,eventHandler){if(eventHandler){TeaLeaf.Event.tlRemoveHandler(domelement,eventtype,eventHandler,false)}else{TeaLeaf.Event.tlRemoveHandler(domelement,eventtype,eval(TeaLeaf.Client.tlAddEvent),false)}};TeaLeaf.Client.tlScanForAdditions=function(){if(!TeaLeaf.Client.Configuration.tlScheduledScan){return}TeaLeaf.Client.tlProcessNode(document.body);try{for(var d=0;d<window.frames.length;d++){var f=window.frames[d];TeaLeaf.Client.tlProcessNode(f.document.body)}}catch(g){}window.clearTimeout(TeaLeaf.Client.tlTimeoutID);TeaLeaf.Client.tlTimeoutID=window.setTimeout(TeaLeaf.Client.tlScanForAdditions,TeaLeaf.Client.Configuration.tlscanupdate)};TeaLeaf.Client.tlTagNameAllowed=function(d){if(d==null){return false}var c=TeaLeaf.Client.Configuration.tlNodeTags[d];if(c==null){c=false}if(TeaLeaf.Client.Configuration.tlExcludeTags){return !c}else{return c}};TeaLeaf.Client.tlStartListeners=function(){TeaLeaf.Client.tlAttachToAllControls();TeaLeaf.Client.tlSingleAttach()};TeaLeaf.Client.tlEndListeners=function(){TeaLeaf.Event.tlFlushQueue(true);TeaLeaf.Client.tlDetachFromAllControls()};TeaLeaf.Client.tlSendValueChange=function(s,r){var n=new TeaLeaf.Event(TeaLeaf.$C("GUI"),r);var o=[TeaLeaf.$C("Name"),s.name,TeaLeaf.$C("Id"),s.id,TeaLeaf.$C("ElementType"),s.type];n.tlAddData(o);var q=TeaLeaf.Client.tlGetName(s);var l=TeaLeaf.Event.tlFormatXMLName(q);var m=TeaLeaf.Client.tlReplaceValue(s);var p=[TeaLeaf.$C("ValueIn"),l,l,m];n.tlAddData(p);n.tlSend()};TeaLeaf.Client.tlSetup=function(){var b=TeaLeaf.tlGetCookieValue("tlQueuedXML");if(b){TeaLeaf.Event.tlQueuedXML+=b.replace(/%3B/g,";")}TeaLeaf.Client.tlAttachToAllControls();TeaLeaf.Client.tlSingleAttach();if(TeaLeaf.Event.Configuration.tlcatchpopups){TeaLeaf.SavedWindowOpen=window.open;window.open=function(u,t,r,q){var p="blocked";var s;if(typeof TeaLeaf.SavedWindowOpen=="function"){s=TeaLeaf.SavedWindowOpen.apply(this,arguments)}else{u=u?u:"";t=t?t:"";r=r?r:"";s=TeaLeaf.SavedWindowOpen(u,t,r,q)}try{if(!s.closed){p="visible"}}catch(a){if(TeaLeaf.Event.Configuration.tlshowexceptions){alert(a.name+": "+a.message+"\r\n\r\nPos 8")}}var n=new TeaLeaf.Event(TeaLeaf.$C("GUI"),TeaLeaf.$C("WindowOpen"));var o=[TeaLeaf.$C("Status"),p,TeaLeaf.$C("URL"),escape(u),TeaLeaf.$C("Name"),t,TeaLeaf.$C("Features"),r,TeaLeaf.$C("Replace"),q];n.tlAddData(o);n.tlSend();return s}}window.clearTimeout(TeaLeaf.Client.tlTimeoutID);if(TeaLeaf.Client.Configuration.tlscanupdate>0){TeaLeaf.Client.tlTimeoutID=window.setTimeout(TeaLeaf.Client.tlScanForAdditions,TeaLeaf.Client.Configuration.tlscanupdate)}};TeaLeaf.Client.CallInit=function(){TeaLeaf.addOnLoad(TeaLeaf.Client.tlSetup)};if(TeaLeaf.Client.Configuration.tlinit==false){TeaLeaf.Client.Configuration.tlinit=true;TeaLeaf.Client.CallInit()}};