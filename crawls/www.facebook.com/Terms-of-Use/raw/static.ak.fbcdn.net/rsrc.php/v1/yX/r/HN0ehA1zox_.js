/*1322648281,169775559*/

if (window.CavalryLogger) { CavalryLogger.start_js(["M4\/yw"]); }

window.__DEV__=window.__DEV__||0;if(!window.skipDomainLower&&document.domain.toLowerCase().match(/(^|\.)facebook\..*/))document.domain=window.location.hostname.replace(/^.*(facebook\..*)$/i,'$1');function bagofholding(){}function bagof(a){return function(){return a;};}function env_get(a){return window.Env&&Env[a];}if(!Date.now)Date.now=function now(){return new Date().getTime();};if(!Array.isArray)Array.isArray=function(a){return Object.prototype.toString.call(a)=='[object Array]';};Env=window.Env||{};Env.start=Env.start||Date.now();document.documentElement.className=document.documentElement.className.replace('no_js','');
window.require||(function(){var z={},w={},n=0,y=this,i=1,l=2,j='special',d='exports',c='dependencies',g='module',m='waiting',e='factory',k=undefined,b='define',f='global',h='require',a='context';function za(zi){var zk=z[zi],zd,zh;if(zk[m]&&zk[j]&l)q();if(!zk[d]){var zf=zk[d]={},zg=zk[e];if(Object.prototype.toString.call(zg)==='[object Function]'){var zc=[],ze=zk[c],zj=ze.length;if(zk[j]&l)zj=Math.min(zj,zg.length);for(zh=0;zh<zj;zh++){zd=ze[zh];zc.push(zd===g?zk:(zd===d?zf:za(zd)));}var zl=zg.apply(zk[a]||y,zc);if(zl)zk[d]=zl;}else zk[d]=zg;}return zk[d];}function u(zg,ze,zf,zd,zc){if(ze===k){ze=[];zf=zg;zg=s();}else if(zf===k){zf=ze;ze=zg;zg=s();}if(z[zg])return;var zh={id:zg};zh[e]=zf;zh[c]=ze;zh[a]=zc;zh[j]=zd;z[zg]=zh;o(zg);}function x(zd,ze,zc){u(zd,ze,k,i,zc);}function q(){var zd={},zc;for(zc in w)if(z[zc]&&!zd[zc]&&z[zc][j]&l)r({},zc,zd);}function r(zf,zc,zg){zg[zc]=1;var ze=w[zc],zd;if(!ze)return;zf[zc]=1;for(zd in ze){if(!z[zd][j]&l)continue;if(zf[zd]){delete ze[zd];z[zd][m]--;if(!z[zd][m])t(zd);}else r(zf,zd,zg);}zf[zc]=0;}function s(){return '__mod__'+n++;}function o(ze){var zf=z[ze];var zg=0;for(var zd=0;zd<zf[c].length;zd++){var zc=zf[c][zd];if(!z[zc]||z[zc][m]){w[zc]||(w[zc]={});w[zc][ze]=1;zg++;}}zf[m]=zg;if(!zg)t(ze);}function t(zd){var ze=z[zd];if(ze[j]&i)za(zd);var zf=w[zd];if(zf){delete w[zd];for(var zc in zf)if(!--z[zc][m])t(zc);}}function p(zd,zc){z[zd]={id:zd};z[zd][d]=zc;}p(g,0);p(d,0);p(b,u);p(f,y);p(h,za);u.amd={};y[b]=u;y[h]=za;za.ensure=x;var zb=false;var v=function(zf,zd,ze,zc){u(zf,zd,ze,zc||l);if(z[zf][m]&&!zb)zb=setTimeout(function(){q();zb=false;},9);};y.__d=function(zf,zd,ze,zc){zd=[f,g,h,d].concat(zd);v(zf,zd,ze,zc);};y.__e=function(zf,zd,ze,zc){zd=[f,h,g,d].concat(zd);v(zf,zd,ze,zc);};})();
__e("hasArrayNature",[],function(b,e,d,a){function c(f){return (!!f&&(typeof f=='object'||typeof f=='function')&&('length' in f)&&!('setInterval' in f)&&(Object.prototype.toString.call(f)==="[object Array]"||('callee' in f)||('item' in f)));}d.exports=c;});
__e("ArrayUtils",["hasArrayNature","ArrayUtils"],function(c,f,e,b){var d=f("hasArrayNature");var a={createFrom:function(h){if(!d(h))return [h];if(h.item){var g=h.length,i=new Array(g);while(g--)i[g]=h[g];return i;}return Array.prototype.slice.call(h);}};e.exports=a;});
__e("copyProperties",[],function(c,e,d,b){function a(g,h){g=g||{};h=h||{};for(var f in h)g[f]=h[f];if(h.hasOwnProperty&&h.hasOwnProperty('toString')&&(typeof h.toString!='undefined')&&(g.toString!==h.toString))g.toString=h.toString;return g;}d.exports=a;});
__e("arbiter",["ArrayUtils","copyProperties","hasArrayNature"],function(e,h,g,d){var b=h('ArrayUtils');var c=h('copyProperties');var f=h('hasArrayNature');if(!window.async_callback)window.async_callback=function(i,j){return i;};function a(){c(this,{_listeners:[],_events:{},_callbacks:{},_last_id:1,_listen:{},_index:{}});c(this,a);}c(a,{SUBSCRIBE_NEW:'new',SUBSCRIBE_ALL:'all',BEHAVIOR_EVENT:'event',BEHAVIOR_PERSISTENT:'persistent',BEHAVIOR_STATE:'state',LIVEMESSAGE:'livemessage',BOOTLOAD:'bootload',FUNCTION_EXTENSION:'function_ext',subscribe:function(s,j,q){if(!s||s.length==0)return null;s=b.createFrom(s);var i=a._getInstance(this);i._listeners.push({callback:j,types:s});var p=i._listeners.length-1;for(var l=0;l<s.length;l++)if(i._index[s[l]]){i._index[s[l]].push(p);}else i._index[s[l]]=[p];q=q||a.SUBSCRIBE_ALL;if(q==a.SUBSCRIBE_ALL){var k,r,o;for(var m=0;m<s.length;m++){r=s[m];if(r in i._events)for(var n=0;n<i._events[r].length;n++){k=i._events[r][n];o=j.apply(null,[r,k]);if(o===false){i._events[r].splice(n,1);n--;}}}}return {subscriberID:p};},unsubscribe:function(m){var i=a._getInstance(this);var k=i._listeners[m.subscriberID];if(!k)return;for(var l=0;l<k.types.length;l++){var n=k.types[l];if(i._index[n])for(var j=0;j<i._index[n].length;j++)if(i._index[n][j]==m.subscriberID){i._index[n].splice(j,1);if(i._index[n].length==0)delete i._index[n];break;}}delete i._listeners[m.subscriberID];},inform:function(r,k,j){var u=f(r);var t=b.createFrom(r);var i=a._getInstance(this);var q={};j=j||a.BEHAVIOR_EVENT;for(var m=0;m<t.length;m++){var r=t[m],l=null;if(j==a.BEHAVIOR_PERSISTENT){l=i._events.length;if(!(r in i._events))i._events[r]=[];i._events[r].push(k);i._events[r]._stateful=false;}else if(j==a.BEHAVIOR_STATE){l=0;i._events[r]=[k];i._events[r]._stateful=true;}else if(r in i._events)i._events[r]._stateful=false;window.ArbiterMonitor&&ArbiterMonitor.record('event',r,k,i);var p;if(i._index[r]){var s=b.createFrom(i._index[r]);for(var n=0;n<s.length;n++){var o=i._listeners[s[n]];if(o){p=o.callback.apply(null,[r,k]);if(p===false){if(l!==null)i._events[r].splice(l,1);break;}}}}i._updateCallbacks(r,k);window.ArbiterMonitor&&ArbiterMonitor.record('done',r,k,i);q[r]=p;}return u?q:q[t[0]];},query:function(j){var i=a._getInstance(this);if(!(j in i._events))return null;if(i._events[j].length)return i._events[j][0];return null;},_instance:null,_getInstance:function(i){if(i instanceof a)return i;if(!a._instance)a._instance=new a();return a._instance;},registerCallback:function(j,l){var p,k=0,i=a._getInstance(this),o=false;if(typeof j=='function'){p=i._last_id;i._last_id++;o=true;}else{if(!i._callbacks[j])return null;p=j;}if(f(l)){var q={};for(var n=0;n<l.length;n++)q[l[n]]=1;l=q;}for(var r in l){try{if(i.query(r))continue;}catch(m){}k+=l[r];if(i._listen[r]===undefined)i._listen[r]={};i._listen[r][p]=(i._listen[r][p]||0)+l[r];}if(k==0&&o){j();return null;}if(!o){i._callbacks[p].depnum+=k;}else i._callbacks[p]={callback:async_callback(j,'arbiter'),depnum:k};return p;},_updateCallbacks:function(l,k){if(k===null||!this._listen[l])return;for(var j in this._listen[l]){this._listen[l][j]--;if(this._listen[l][j]<=0)delete this._listen[l][j];this._callbacks[j].depnum--;if(this._callbacks[j].depnum<=0){var i=this._callbacks[j].callback;delete this._callbacks[j];i();}}}});e.Arbiter=g.exports=a;},3);
__e("util",[],function(b,d,c,a){if(typeof console=='undefined')b.console={log:bagofholding,info:bagofholding,warn:bagofholding,debug:bagofholding,dir:bagofholding,error:bagofholding};b.Util=c.exports=b.console;},3);
__e("isEmpty",[],function(b,e,d,a){function c(g){if(g instanceof Array){return g.length===0;}else if(g instanceof Object){for(var f in g)return false;return true;}else return !g;}d.exports=c;});
__e("bootloader",["ArrayUtils","arbiter","util","isEmpty"],function(w,z,y,v){var b=z('ArrayUtils');var a=z('arbiter');var d=z('util');var x=z('isEmpty');var f={};var k=null;var o={};var m={};var h={};var i={};var s=[];var l=null;var p={};var j={};var g=false;var u=[];var e=5000;function n(zj,zg,ze,zb){if(zj=='js'){var zf=document.createElement('script');zf.src=zg;zf.type='text/javascript';zf.async=true;var za=function(){c.done([ze]);};zf.onload=zf.onerror=za;zf.onreadystatechange=function(){if(this.readyState in {loaded:1,complete:1})za();};zb.appendChild(zf);}else if(zj=='css'){if(document.createStyleSheet){var zh=s,zi=-1;for(var zc=0;zc<zh.length;zc++)if(zh[zc].imports.length<25){zi=zc;break;}if(zi==-1){zh.push(document.createStyleSheet());zi=zh.length-1;}zh[zi].addImport(zg);i[ze]={tagIdx:zi,href:zg};}else{var zd=document.createElement('link');zd.rel="stylesheet";zd.type="text/css";zd.media="all";zd.href=zg;i[ze]={link:zd};zb.appendChild(zd);}r(ze);}}function q(){var zd;var za=[];var ze=Date.now();if(ze>=k){for(zd in f)za.push(zd);if(window.logJSError)if(Math.random()<.01)logJSError('bootloader',{error:'CSS timeout',extra:{name:za.join(',')}});}else for(zd in f){var zf=f[zd];var zg=window.getComputedStyle?window.getComputedStyle(zf,null):zf.currentStyle;if(zg&&parseInt(zg.height,10)>1)za.push(zd);}if(!x(za)){for(var zc=0;zc<za.length;zc++){var zb=f[za[zc]];zb.parentNode.removeChild(zb);delete f[za[zc]];}k=ze+e;c.done(za,true);}return x(f);}function r(zc){var za='bootloader_'+zc.replace(/[^a-z0-9]/ig,'_');var zd=document.createElement('meta');zd.id=za;c.getHardpoint().appendChild(zd);k=Date.now()+e;var ze=x(f);f[zc]=zd;if(ze)var zb=setInterval(function _poll(){if(q())zb&&clearInterval(zb);},20,false);}function t(zd){if(zd in i){var zb=i[zd],zc=zb.link;if(zc){zc.parentNode.removeChild(zc);}else{var ze=s[zb.tagIdx];for(var za=0;za<ze.imports.length;za++)if(ze.imports[za].href==zb.href){ze.removeImport(za);break;}}delete i[zd];delete o[zd];a.inform(a.BOOTLOAD+'/'+zd,null,a.BEHAVIOR_STATE);}}var c={configurePage:function(za){var zg={};var zf=c.resolveResources(za);var zb;for(zb=0;zb<zf.length;zb++){zg[zf[zb].src]=zf[zb];c.requested(zf[zb].name);r(zf[zb].name);}var zd=document.getElementsByTagName('link');for(zb=0;zb<zd.length;++zb){if(zd[zb].rel!='stylesheet')continue;for(var zc in zg)if(zd[zb].href.indexOf(zc)!==-1){var ze=zg[zc].name;i[ze]={link:zd[zb]};if(zg[zc].permanent)m[ze]=true;delete zg[zc];break;}}},loadModules:function(zb,za){zb=b.createFrom(zb);c.loadComponents(zb,function inject_module_callback(){var zd=[];for(var zc=0;zc<zb.length;zc++)zd.push(z(zb[zc]));za.apply(this,zd);});},loadComponents:function(zc,za){if(!g){u.push([zc,za]);return;}zc=b.createFrom(zc);var zf=[];for(var zd=0;zd<zc.length;++zd){if(!zc[zd])continue;var zb=h[zc[zd]];if(!!zb)for(var ze=0;ze<zb.length;++ze)zf.push(zb[ze]);}c.loadResources(zf,za);},loadResources:function(zj,zb,zi,zm){var ze;zj=c.resolveResources(b.createFrom(zj));if(zi){var zg={};for(ze=0;ze<zj.length;++ze)zg[zj[ze].name]=true;for(var zf in o)if(!(zf in m)&&!(zf in zg)&&!(zf in j))t(zf);j={};}var zn=[];var zh=[];for(ze=0;ze<zj.length;++ze){var zk=zj[ze];if(zk.permanent)m[zk.name]=true;var zl=a.BOOTLOAD+'/'+zk.name;if(a.query(zl)!==null)continue;if(!zk.nonblocking)zh.push(zl);if(!o[zk.name]){c.requested(zk.name);zn.push(zk);window.CavalryLogger&&CavalryLogger.getInstance().measureResources(zk,zm);}}if(zb)zb=a.registerCallback(zb,zh);var zd=document.documentMode||+(/MSIE.(\d+)/.exec(navigator.userAgent)||[])[1];var zc=c.getHardpoint();var za=zd?zc:document.createDocumentFragment();for(ze=0;ze<zn.length;++ze)n(zn[ze].type,zn[ze].src,zn[ze].name,za);if(zc!==za)zc.appendChild(za);return zb;},requestResource:function(zd,zc,zb){var za=c.getHardpoint();n(zd,zc,zb,za);},done:function(ze,zb){c.requested(ze);if(!zb){var zd={sender:this};a.inform(a.BOOTLOAD,zd,a.BEHAVIOR_EVENT);}for(var za=0;za<ze.length;++za){var zc=ze[za];a.inform(a.BOOTLOAD+'/'+zc,true,a.BEHAVIOR_STATE);}},requested:function(zb){zb=b.createFrom(zb);for(var za=0;za<zb.length;++za)o[zb[za]]=true;},enableBootload:function(zb){for(var zc in zb)if(!h[zc])h[zc]=zb[zc];if(!g){g=true;for(var za=0;za<u.length;za++)c.loadComponents.apply(null,u[za]);u=[];}},getHardpoint:function(){if(!l){var za=document.getElementsByTagName('head');l=za.length&&za[0]||document.body;}return l;},setResourceMap:function(zb){if(!zb)return;for(var za in zb){if(!zb[za].name)zb[za].name=za;p[za]=zb[za];}},resolveResources:function(zc){if(!zc)return [];var zb=[];for(var za=0;za<zc.length;++za)if(typeof zc[za]=='string'){if(zc[za] in p)zb.push(p[zc[za]]);}else zb.push(zc[za]);return zb;},loadEarlyResources:function(zc){var za;c.setResourceMap(zc);var zb=[];for(za in zc)zb.push(p[za]);c.loadResources(zb);for(za in zc){var zd=p[za];if(!zd.permanent)j[zd.name]=zd;}},isDisplayJS:function(za){if(typeof za=='string')za=p[za];return za.displayjs;}};w.Bootloader=y.exports=c;},3);
__e("UserNoOp",[],function(d,f,e,c){var a=function(){};var b=function(){return this;};a.prototype={add_event:b,add_data:b,set_ua_id:b,set_namespace:b};e.exports=a;});
__e("mixins",["arbiter"],function(d,f,e,c){var a=f('arbiter');var b={Arbiter:{_getArbiterInstance:function(){return this._arbiter||(this._arbiter=new a());},inform:function(i,h,g){return this._getArbiterInstance().inform(i,h,g);},subscribe:function(i,g,h){return this._getArbiterInstance().subscribe(i,g,h);},unsubscribe:function(g){this._getArbiterInstance().unsubscribe(g);}}};d.Mixins=e.exports=b;},3);
__e("bind",[],function(c,e,d,b){function a(i,h){var f=Array.prototype.slice.call(arguments,2);function g(){var k=i||(this==window?false:this),j=f.concat(Array.prototype.slice.call(arguments));if(typeof(h)=="string"){if(k[h])return k[h].apply(k,j);}else return h.apply(k,j);}g.toString=function(){if(typeof(h)=="string")return "bound lazily: "+i[h];return "bound: "+h;};return g;}d.exports=a;c.bind=a;},3);
__e("function-extensions",["ArrayUtils","mixins","bind","copyProperties"],function(f,h,g,e){var a=h('ArrayUtils');var b=h('mixins');var c=h('bind');var d=h('copyProperties');Function.mixin=function(){for(var j=1,i=arguments.length;j<i;++j)d(arguments[0],b[arguments[j]]||arguments[j]);};Function.prototype.bind=function(j){var i=[j,this].concat(Array.prototype.slice.call(arguments,1));return c.apply(null,i);};Function.prototype.curry=Function.prototype.bind.bind(null,null);Function.prototype.shield=function(j){if(typeof this!='function')throw new TypeException();var i=this.bind.apply(this,a.createFrom(arguments));return function(){return i();};};Function.prototype.defer=function(j,i){if(typeof this!='function')throw new TypeError();j=j||0;return setTimeout(this,j,i);};},3);
__e("onload",["arbiter","copyProperties"],function(l,u,m,k){var a=u('arbiter');var c=a.BEHAVIOR_STATE;var h=function(v){window.CavalryLogger&&CavalryLogger.getInstance().setTimeStamp(v);};var b={ONLOAD:'onload/onload',ONLOAD_CALLBACK:'onload/onload_callback',ONLOAD_DOMCONTENT:'onload/dom_content_ready',ONLOAD_DOMCONTENT_CALLBACK:'onload/domcontent_callback',ONBEFOREUNLOAD:'onload/beforeunload',ONUNLOAD:'onload/unload'};function g(){return !window.loading_page_chrome;}function q(v){if(window.loaded&&typeof _runHook!='undefined'){_runHook(v);}else d('onloadhooks',v);}function n(v){if(window.afterloaded&&typeof _runHook!='undefined'){setTimeout(function(){_runHook(v);},0);}else d('onafterloadhooks',v);}function o(v,w){if(w===undefined)w=g();w?d('onbeforeleavehooks',v):d('onbeforeunloadhooks',v);}function s(v){if(!window.onunload)window.onunload=function(){a.inform(b.ONUNLOAD,true,c);};d('onunloadhooks',v);}function p(v){d('onleavehooks',v);}function d(w,v){window[w]=(window[w]||[]).concat(v);}function t(v){window[v]=[];}function f(){a.inform(b.ONLOAD_DOMCONTENT,true,c);}function e(){var v=document,z=window;if(v.addEventListener){var za=/AppleWebKit.(\d+)/.exec(navigator.userAgent);if(za&&za[1]<525){var y=setInterval(function(){if(/loaded|complete/.test(v.readyState)){f();clearInterval(y);}},10);}else v.addEventListener("DOMContentLoaded",f,true);}else{var x='javascript:void(0)';if(z.location.protocol=='https:')x='//:';v.write('<script onreadystatechange="if (this.readyState==\'complete\') {'+'this.parentNode.removeChild(this);_domcontentready();}" '+'defer="defer" src="'+x+'"><\/script\>');}var w=z.onload;z.onload=function(){h('t_layout');w&&w();a.inform(b.ONLOAD,true,c);};z.onbeforeunload=function(){var zb={};a.inform(b.ONBEFOREUNLOAD,zb,c);if(!zb.warn)a.inform('onload/exit',true);return zb.warn;};}var r=a.registerCallback(function(){h('t_onload');a.inform(b.ONLOAD_CALLBACK,true,c);},[b.ONLOAD]);var j=a.registerCallback(function(){h('t_domcontent');a.inform(b.ONLOAD_DOMCONTENT_CALLBACK,true,c);},[b.ONLOAD_DOMCONTENT]);if(!window._eventHandlersBootstrapped){_eventHandlersBootstrapped=true;e();}m.exports={Event:b,runOnload:q,runAfterload:n,runOnleave:p};var i=u('copyProperties');i(l,{OnloadEvent:b,onloadRegister:q,onafterloadRegister:n,onleaveRegister:p,onbeforeunloadRegister:o,onunloadRegister:s,domcontent_callback:j,onload_callback:r,_domcontentready:f,removeHook:t,_addHook:d});},3);
__e("EagleEye",["arbiter","bootloader","onload","util"],function(n,u,r,m){var a=u('arbiter');var c=u('bootloader');var e=u('onload');var g=u('util');var x='_e_';var z=(window.name||'').toString();if(z.length==7&&z.substr(0,3)==x){z=z.substr(3);}else{z=window._EagleEyeSeed;if(window==window.top)window.name=x+window._EagleEyeSeed;}var v=(window.location.protocol=='https:'&&document.cookie.match(/\bcsm=1/))?'; secure':'';var s=x+z+'_';var l=new Date(Date.now()+604800000).toGMTString();var j=window.location.hostname.replace(/^.*(facebook\..*)$/i,'$1');var k='; expires='+l+';path=/; domain='+j+v;var i=0;var t;var y=window._EagleEyeSessionStorage&&window.sessionStorage;var p=document.cookie.length;var q=false;var w=Date.now();function o(zd){var za=2166136261;for(var zb=0,zc=zd.length;zb<zc;++zb)za=(za^zd.charCodeAt(zb))*16777619;za+=za<<13;za^=za>>7;za+=za<<3;za^=za>>17;za+=za<<5;return (za|0)+2147483648;}function h(za){return s+(i++)+'='+encodeURIComponent(za)+k;}function b(){var za=[];var zd=false;var zc=0;var zb=0;this.isEmpty=function(){return !za.length;};this.enqueue=function(zf,ze){if(ze){za.unshift(zf);}else za.push(zf);};this.dequeue=function(){za.shift();};this.peek=function(){return za[0];};this.clear=function(zg){p=Math.min(p,document.cookie.length);if(!q&&(new Date()-w>60000))q=true;var ze=!zg&&(document.cookie.search(x)>=0);var zq=!!(window.Env&&Env.cookie_header_limit);var zl=(window.Env&&Env.cookie_count_limit)||19;var zm=(window.Env&&Env.cookie_header_limit)||3950;var zj=zl-5;var zk=zm-1000;while(!this.isEmpty()){var zf=h(this.peek());if(zq&&(zf.length>zm||(q&&zf.length+p>zm))){this.dequeue();continue;}if((ze||zq)&&((document.cookie.length+zf.length>zm)||(document.cookie.split(';').length>zl)))break;document.cookie=zf;ze=true;this.dequeue();}var zn=Date.now();if(zg||!zd&&ze&&((zb>0)&&(Math.min(10*Math.pow(2,zb-1),60000)+zc<zn))&&a.query(e.Event.ONLOAD)&&(!this.isEmpty()||(document.cookie.length>zk)||(document.cookie.split(';').length>zj))){var zp=new Image();var zo=this;var zh=window._EagleEyeDomain||(window.Env&&Env.tracking_domain)||'';zd=true;zp.onload=function _EagleEye_logged(){zd=false;zb=0;zo.clear();};zp.onerror=zp.onabort=function _EagleEye_error(){zd=false;zc=Date.now();zb++;};var zi=(window.Env&&Env.fb_isb)?'&fb_isb='+Env.fb_isb:'';var zr=window.Env?'&__user='+Env.user:'';zp.src=zh+'/ajax/nectar.php?asyncSignal='+(Math.floor(Math.random()*10000)+1)+zi+zr+'&'+(!zg?'':'s=')+zn;}};}t=new b();if(y){var f=function(){var zc=0;var ze=zc;function zb(){var zg=sessionStorage.getItem('_e_ids');if(zg){var zf=(zg+'').split(';');if(zf.length==2){zc=parseInt(zf[0],10);ze=parseInt(zf[1],10);}}}function zd(){var zf=zc+';'+ze;sessionStorage.setItem('_e_ids',zf);}function za(zf){return '_e_'+((zf!==undefined)?zf:zc++);}this.isEmpty=function(){return ze===zc;};this.enqueue=function(zh,zf){var zg=zf?za(--ze):za();sessionStorage.setItem(zg,zh);zd();};this.dequeue=function(){this.isEmpty();sessionStorage.removeItem(za(ze));ze++;zd();};this.peek=function(){var zf=sessionStorage.getItem(za(ze));return zf?(zf+''):zf;};this.clear=t.clear;zb();};t=new f();}var d={log:function(zd,za,zb){if(window.Env&&Env.no_cookies)return;var ze=[z,Date.now(),zd].concat(za);ze.push(ze.length);function zc(){var zg=JSON.stringify(ze);try{t.enqueue(zg,!!zb);t.clear(!!zb);}catch(zf){if(y&&(zf.code===1000)){t=new b();y=false;zc();}}}if(window.JSON){zc();}else c.loadComponents('json',zc);},createLogger:function(zc,za){za=(za===undefined)?1:za;var zb=function(zd,ze){if(zb.enabled)d.log(zc,zd,ze);};zb.enabled=false;zb._key=((window.Env&&Env.user)||Math.random())+zc;zb.enabled=(o(zb._key)%65535/65535)<=za;return zb;},getSessionID:function(){return z;}};n.EagleEye=r.exports=d;},3);
__e("FunctionUtils",[],function(b,e,d,a){function c(i,k,g,f){var j;var h=function(){var l=arguments;var m=this;var n=function(){j=null;i.apply(m,l);};g&&h.reset();if(g||!j)j=setTimeout(n,k,f);};h.reset=function(){j&&clearTimeout(j);j=null;};return h;}d.exports={debounce:function(g,h,f){return c(g,h,true,f);},throttle:function(g,h,f){return c(g,h,false,f);}};});
__e("userAction",["function-extensions","arbiter","EagleEye","FunctionUtils","copyProperties","hasArrayNature"],function(h,n,j,g){n("function-extensions");var a=n("arbiter");var b=n("EagleEye");var c=n("FunctionUtils");var f=n("copyProperties");var i=n("hasArrayNature");function d(t,s,q){var r=t+'/'+s;f(this,{ue:r,_ua_id:null,_ts:t,_ns:null,_start_ts:t,_prev_event:'s',_ue_ts:t,_ue_count:s,_context:q,_data_version:1,_event_version:2,_info_version:1});if(d.enable.report)b.log('uan',[t,s]);this._report=c.debounce(function report(){if(!d.enable.report)return;var u=[this._info_version,this.ue,this._ns,this._ua_id];b.log('uai',u);}.bind(this),100);}var e=[];d.enable=function(r){if(!r)return;if(!i(r))r=[r];for(var q=0;q<r.length;q++)d.enable[r[q]]=true;};f(d.prototype,{set_ua_id:function(q){this._ua_id=q;this._report();return this;},set_namespace:function(q){this._ns=q;this._report();return this;},add_event:function(s,t){if(!d.enable.events)return this;t=t||0;var v=(Date.now()-t);var q=v-this._ts;var u=v-this._ue_ts;var r=[this._event_version,this.ue,this._ns,this._ua_id,this._prev_event,s,q,u];b.log('uae',r);this._ts=v;this._prev_event=s;return this;},add_data:function(q){if(!d.enable.data)return this;var r=[this._data_version,this.ue,q];b.log('uad',r);return this;}});var o=0;var m=0;var l=null;var k=null;function p(q,u,event,t,r){var x=Date.now();var w=x+'/'+o;r=r||{};if(!u&&event)u=event.getTarget();var s=50;if(u&&l)if(x-m<s&&u==l&&t!="FORCE")return e[e.length-1];if(!window.addEventListener&&document.createEventObject)event=document.createEventObject(event);l=u;k=event;var v=new d(x,o,q);e.push(v);while(e.length>10)e.shift();a.inform("UserAction/new",{ua:v,node:u,mode:t,event:event,extra_data:r});m=x;o++;return v;}a.subscribe("UserAction/enable",function(r,q){d.enable(q);});j.exports=p;});
__e("UserAction",["UserNoOp","userAction"],function(a,b){a.UserNoOp=b('UserNoOp');a.user_action=a.user_action||b('userAction');a.report_data=a.report_data||function(c,d){user_action(c,null,null,'FORCE',d);};},3);
__e("setUECookie",[],function(b,d,c,a){function e(g){if(!Env.no_cookies){var f=0;if(b.afterloaded){f=2;}else if(b.loaded)f=1;document.cookie="act="+encodeURIComponent(g+":"+f)+"; path=/; domain="+window.location.hostname.replace(/^.*(\.facebook\..*)$/i,'$1');}}c.exports=e;});
__e("set-ue-cookie",["setUECookie"],function(a,b){a.set_ue_cookie=b('setUECookie');},3);
(function(){ClickRef={};ClickRef.get_intern_ref=function(c){if(!!c){var b={profile_minifeed:1,info_tab:1,gb_content_and_toolbar:1,gb_muffin_area:1,ego:1,bookmarks_menu:1,jewelBoxNotif:1,jewelNotif:1,BeeperBox:1,navSearch:1};for(var a=c;a&&a!=document.body;a=a.parentNode){if(!a.id||typeof a.id!=='string')continue;if(a.id.substr(0,8)=='pagelet_')return a.id.substr(8);if(a.id.substr(0,8)=='box_app_')return a.id;if(b[a.id])return a.id;}}return '-';};ClickRef.get_href=function(b){var a=(b.getAttribute&&(b.getAttribute('ajaxify')||b.getAttribute('data-endpoint'))||b.action||b.href||b.name);return a;};ClickRef.mouse_click_info=function(b){if(!ge('content'))return [0,0,0,0];var a=$('content');var c=window.Vector2?Vector2.getEventPosition(b):{x:0,y:0};return [c.x,c.y,a.offsetLeft,a.clientWidth];};ClickRef.should_report=function(b,a){if(a=='FORCE')return true;if(a=='INDIRECT')return false;return (b&&ClickRef.get_href(b));};ClickRef.collect_data=function(l,h,event,d){var j=(!window.ArbiterMonitor)?'r':'a',g=[0,0,0,0],k,e,f;if(!!event){k=event.type;if(k=='click'&&ge('content'))g=ClickRef.mouse_click_info(event);var b=0;event.ctrlKey&&(b+=1);event.shiftKey&&(b+=2);event.altKey&&(b+=4);event.metaKey&&(b+=8);if(b)k+=b;}if(!!h)e=ClickRef.get_href(h);var a=[];if(window.ArbiterMonitor){f=ArbiterMonitor.getInternRef(h);a=ArbiterMonitor.getActFields();}var c={};if(window.collect_data_attribs){c=collect_data_attribs(h,['ft','gt']);copy_properties(c.ft,d.ft||{});copy_properties(c.gt,d.gt||{});if(c.gt.ua_id)l.set_ua_id(c.gt.ua_id);if(typeof(c.ft.ei)==='string')delete c.ft.ei;}var i=[l._ue_ts,l._ue_count,e||'-',l._context,k||'-',f||ClickRef.get_intern_ref(h),j,window.URI?URI.getRequestURI(true,true).getUnqualifiedURI().toString():location.pathname+location.search+location.hash,c].concat(g).concat(a);return i;};ClickRef.onNewUserAction=function(b,a){Bootloader.loadComponents('dom-collect',function(){if(ClickRef.should_report(a.node,a.mode)){var c=ClickRef.collect_data(a.ua,a.node,a.event,a.extra_data);ClickRef.report(a.ua,c);}});};ClickRef.report=function(b,a){var c=b.ue;set_ue_cookie(c);window.EagleEye&&EagleEye.log('act',a);};window.Arbiter&&Arbiter.subscribe("UserAction/new",ClickRef.onNewUserAction);})();
__e("dom-core",[],function(d,f,e,b){var a=function(g){return typeof g=='string'?document.getElementById(g):g;};var c=a;d.ge=b.ge=c;d.$=b.$=a;},3);
__e("css-core",["dom-core"],function(d,f,e,c){var a=f('dom-core').$;var b={hasClass:function(h,g){h=a(h);return (' '+h.className+' ').indexOf(' '+g+' ')>-1;},addClass:function(h,g){h=a(h);if(g&&!b.hasClass(h,g))h.className=h.className+' '+g;return h;},removeClass:function(h,g){h=a(h);if(b.hasClass(h,g))h.className=h.className.replace(new RegExp('(^|\\s)'+g+'(?:\\s|$)','g'),'$1');return h;},toggleClass:function(h,g){return b.conditionClass(h,g,!b.hasClass(h,g));},conditionClass:function(i,h,g){return (g?b.addClass:b.removeClass)(i,h);},show:function(g){b.removeClass(g,'hidden_elem');},hide:function(g){b.addClass(g,'hidden_elem');},conditionShow:function(h,g){b.conditionClass(h,'hidden_elem',!g);}};d.CSS=e.exports=b;},3);
__e("parent",["css-core"],function(d,f,e,c){var a=f('css-core');var b={byTag:function(g,h){h=h.toUpperCase();while(g&&g.nodeName!=h)g=g.parentNode;return g;},byClass:function(h,g){while(h&&!a.hasClass(h,g))h=h.parentNode;return h;},byAttribute:function(h,g){while(h&&(!h.getAttribute||!h.getAttribute(g)))h=h.parentNode;return h;}};d.Parent=e.exports=b;},3);
__e("trackReferrer",["parent"],function(c,e,d,b){var a=e("parent");function f(g,k){g=a.byAttribute(g,'data-referrer');if(g){var j=/^(?:(?:[^:\/?#]+):)?(?:\/\/(?:[^\/?#]*))?([^?#]*)(?:\?([^#]*))?(?:#(.*))?/.exec(k)[1]||'';if(!j)return;var i=j+'|'+g.getAttribute('data-referrer');var h=new Date();h.setTime(Date.now()+1000);document.cookie="x-src="+encodeURIComponent(i)+"; "+"expires="+h.toGMTString()+";path=/; domain="+window.location.hostname.replace(/^.*(\.facebook\..*)$/i,'$1');}return g;}d.exports=f;});
__e("referrer-tracker",["trackReferrer"],function(a,b){a.trackReferrer=b('trackReferrer');},3);
!function(){if(window.__primer)return;window.__primer=true;var a=null;var b=/async(?:-post)?|dialog(?:-pipe|-post)?|theater|toggle/;document.documentElement.onclick=function(e){e=e||window.event;a=e.target||e.srcElement;var f=Parent.byTag(a,'A');if(!f)return;var c=f.getAttribute('ajaxify');var g=f.href;var l=c||g;if(l){var k=user_action('a',f,e).set_namespace('primer');if(window.ArbiterMonitor)ArbiterMonitor.initUA(k,[f]);}if(c&&g&&!(/#$/).test(g)){var h=e.which&&e.which!=1;var i=e.altKey||e.ctrlKey||e.metaKey||e.shiftKey;if(h||i)return;}trackReferrer(f,l);var d=['dialog'];var j=f.rel&&f.rel.match(b);j=j&&j[0];switch(j){case 'dialog-pipe':d.push('ajaxpipe');case 'dialog':case 'dialog-post':Bootloader.loadComponents(d,function(){Dialog.bootstrap(l,null,j=='dialog',null,null,f);});break;case 'async':case 'async-post':Bootloader.loadComponents('async',function(){AsyncRequest.bootstrap(l,f);});break;case 'theater':Bootloader.loadComponents('PhotoSnowbox',function(){PhotoSnowbox.bootstrap(l,f);});break;case 'toggle':CSS.toggleClass(f.parentNode,'openToggler');Bootloader.loadComponents('Toggler',function(){Toggler.bootstrap(f);});break;default:return;}return false;};document.documentElement.onsubmit=function(c){c=c||window.event;var d=c.target||c.srcElement;if(d&&d.nodeName=='FORM'&&d.getAttribute('rel')=='async'){var f=user_action('f',d,c).set_namespace('primer');if(window.ArbiterMonitor)ArbiterMonitor.initUA(f,[d]);var e=a;Bootloader.loadComponents('dom-form',function(){Form.bootstrap(d,e);});return false;}};}();
__e("object-core-utils",["isEmpty","copyProperties"],function(c,e,d,b){c.is_empty=e('isEmpty');c.copy_properties=e('copyProperties');function a(f,g){return copy_properties(window[f]||(window[f]={}),g);}c.add_properties=b.add_properties=a;},3);
InitialJSLoader=window.InitialJSLoader||{INITIAL_JS_READY:'BOOTLOAD/JSREADY',load:function(a){InitialJSLoader.callback=Bootloader.loadResources(a,InitialJSLoader.callback);},callback:Arbiter.registerCallback(function(){Arbiter.inform(InitialJSLoader.INITIAL_JS_READY,true,Arbiter.BEHAVIOR_STATE);},[OnloadEvent.ONLOAD_DOMCONTENT_CALLBACK])};
__e("JSLogger",[],function(d,f,e,c){function b(h){this.cat=h;this._counts={};}var a={_JSLogger:b,instances:{},backlog:[],stringify:function(i){if(i instanceof Error&&window.SystemEvents)i=SystemEvents.normalizeError(i);try{return JSON.stringify(i);}catch(h){return '{}';}}};function g(h){b.prototype[h]=function(event,i){if(a.backlog.length<100)a.backlog.push([this.cat,h,event,i&&a.stringify(i),new Date()]);};}g('debug');g('log');g('warn');g('error');g('bump');g('rate');d.JSLogger=e.exports={_:a,DUMP_EVENT:'jslogger/dump',create:function(h){return a.instances[h]||(a.instances[h]=new b(h));}};},3);
__e("curry",["bind"],function(d,f,e,c){var a=f('bind');var b=a(null,a,null);e.exports=b;d.curry=b;},3);
__e("event-form-bubbling",[],function(b,d,c,a){b.Event=b.Event||function(){};Event.__inlineSubmit=function(f,event){var e=Event.__getHandler&&Event.__getHandler(f,'submit');return e?null:Event.__bubbleSubmit(f,event);};Event.__bubbleSubmit=function(e,event){if(document.documentElement.attachEvent){var f;while(f!==false&&(e=e.parentNode))f=e.onsubmit?e.onsubmit(event):Event.__fire&&Event.__fire(e,'submit',event);return f;}};},3);
__e("wait_for_load",["bootloader","onload","bind"],function(e,g,f,d){var a=g('bootloader');var b=g('onload');var c=g('bind');function h(k,l){return window.loaded&&l.call(k);}function i(l,k,m){a.loadComponents(k,c(l,m));return false;}function j(m,l,o){o=c(m,o,l);if(window.loaded)return o();switch((l||event).type){case 'load':case 'focus':b.runAfterload(o);return;case 'click':var n=m.style,k=document.body.style;n.cursor=k.cursor='progress';b.runAfterload(function(){n.cursor=k.cursor='';if(m.tagName.toLowerCase()=='a'){if(false!==o()&&m.href)window.location.href=m.href;}else if(m.click)m.click();});break;}return false;}e.run_if_loaded=h;e.run_with=i;e.wait_for_load=j;},3);
__e("Intl",[],function(c,f,d,b){function a(g){if(typeof g!='string')return false;return g.match(new RegExp(a.punct_char_class+'['+')"'+"'"+'\u00BB'+'\u0F3B'+'\u0F3D'+'\u2019'+'\u201D'+'\u203A'+'\u3009'+'\u300B'+'\u300D'+'\u300F'+'\u3011'+'\u3015'+'\u3017'+'\u3019'+'\u301B'+'\u301E'+'\u301F'+'\uFD3F'+'\uFF07'+'\uFF09'+'\uFF3D'+'\s'+']*$'));}a.punct_char_class='['+'.!?'+'\u3002'+'\uFF01'+'\uFF1F'+'\u0964'+'\u2026'+'\u0EAF'+'\u1801'+'\u0E2F'+'\uFF0E'+']';function e(m){var k,j=m,l=window.intl_locale_rewrites,h,i;try{if(l){var pats=[],reps=[];for(var p in l.patterns){var pat=p,rep=l.patterns[p];for(h in l.meta){k=new RegExp(h.slice(1,-1),'g');pat=pat.replace(k,l.meta[h]);rep=rep.replace(k,l.meta[h]);}pats[pats.length]=pat;reps[reps.length]=rep;}for(var ii=0;ii<pats.length;ii++){k=new RegExp(pats[ii].slice(1,-1),'g');if(reps[ii]=='javascript'){i=m.match(k);h=i&&i[0];if(h)m=m.replace(k,h.slice(1).toLowerCase());}else m=m.replace(k,reps[ii]);}}}catch(g){m=j;}k=new RegExp('\x01','g');m=m.replace(k,'');return m;}d.exports={endsInPunct:a,phonologicalRules:e};});
__e("_tx",["Intl"],function(d,f,e,c){var a=f('Intl');function b(k,g){if(!g)return k;var j;for(var i in g){if(a.endsInPunct(g[i])){j=new RegExp('\\{'+i+'\\}'+a.endsInPunct.punct_char_class+'*','g');}else j=new RegExp('\\{'+i+'\\}','g');var h='\x01';k=k.replace(j,h+g[i]+h);}k=a.phonologicalRules(k);return k;}e.exports=b;});
__e("tx",["_tx"],function(c,e,d,b){var a=e('_tx');function f(h,g){if(typeof _string_table=='undefined')return;h=_string_table[h];return a(h,g);}d.exports=f;});
__e("intl-core",["tx","_tx","Intl"],function(c,d){var e=d('tx');var b=d('_tx');var a=d('Intl');c.tx=e;c._tx=b;c.intl_ends_in_punct=a.endsInPunct;c.intl_phonological_rules=a.phonologicalRules;},3);
__e("goURI",[],function(b,e,d,a){function c(g,f){g=g.toString();if(!f&&b.PageTransitions&&PageTransitions.isInitialized()){PageTransitions.go(g);}else if(window.location.href==g){window.location.reload();}else window.location.href=g;}d.exports=c;});
__e("invokeCallbacks",[],function(b,e,d,a){function c(g,i){if(g)for(var h=0;h<g.length;h++)try{(new Function(g[h])).apply(i);}catch(f){}}d.exports=c;});
__e("prelude-utils",["goURI","invokeCallbacks"],function(a,b){a.goURI=b('goURI');a.invoke_callbacks=b('invokeCallbacks');},3);
window.__c||function(){function a(f,c){var e=(typeof c!=='undefined')?f[c]:f;if(Object.prototype.toString.call(e)==='[object Array]'){for(var b=0;b<e.length;b++)a(e,b);}else if(typeof e=='object')if(e.__m){f[c]=require(e.__m);}else if(e.__e){f[c]=document.getElementById(e.__e);}else for(var d in e)a(e,d);}window.__c=function(e,d,c,b){require.ensure([e].concat(c||[]),function(f){b&&a(b);d&&f[d].apply(f,b);});};window.__f=function(d,c,b){define(d,c,function(e){a(b);return e.fromJSON.apply(null,b);});};}();
__e("Class",["function-extensions","arbiter","bind"],function(n,p,o,m){p('function-extensions');var a=p('arbiter');var l=p('bind');var h={};var d=null;var b={extend:function(q,r){if(!d)d=a.subscribe(a.BOOTLOAD,j);if(typeof r=='string'){i(q,r);}else c(q,r);},mixin:function(s,r){var q=Array.prototype.slice.call(arguments);q[0]=q[0].prototype;Function.mixin.apply(Function,q);}};function i(r,s){r.__class_extending=true;var q=a.registerCallback(l(null,c,r,s),[a.FUNCTION_EXTENSION+'/'+s,a.BOOTLOAD]);if(q!==null)h[s]=true;}function j(){for(var q in h)if(!!n[q]){delete h[q];if(!n[q].__class_extending){a.inform(a.FUNCTION_EXTENSION+'/'+q,true,a.BEHAVIOR_STATE);}else n[q].__class_name=q;}}function c(q,s){delete q.__class_extending;s=typeof s=='string'?n[s]:s;var t=g(s,0);var r=g(q,t.prototype.__level+1);r.parent=t;if(!!q.__class_name)a.inform(a.FUNCTION_EXTENSION+'/'+q.__class_name,true,a.BEHAVIOR_STATE);}function g(s,q){if(s._metaprototype)return s._metaprototype;var r=new Function();r.construct=e;r.prototype.construct=k(s,q,true);r.prototype.__level=q;r.base=s;s.prototype.parent=r;s._metaprototype=r;return r;}function e(q){f(q.parent);var t=[];var s=q;while(s.parent){var r=new s.parent();t.push(r);r.__instance=q;s=s.parent;}q.parent=t[1];t.reverse();t.pop();q.__parents=t;q.__instance=q;return q.parent.construct.apply(q.parent,arguments);}function f(t){if(t.initialized)return;var q=t.base.prototype;if(t.parent){f(t.parent);var u=t.parent.prototype;for(var r in u)if(r!='__level'&&r!='construct'&&q[r]===undefined)q[r]=t.prototype[r]=u[r];}t.initialized=true;var s=t.prototype.__level;for(var r in q)if(r!='parent')q[r]=t.prototype[r]=k(q[r],s);}function k(s,r,t){if(typeof s!='function'||s.__prototyped)return s;var q=function(){var w=this.__instance;if(w){var x=w.parent;w.parent=r?w.__parents[r-1]:null;var u=arguments;if(t){u=[];for(var v=1;v<arguments.length;v++)u.push(arguments[v]);}var y=s.apply(w,u);w.parent=x;return y;}else return s.apply(this,arguments);};q.__prototyped=true;return q;}n.Class=o.exports=b;},3);
JSCC=window.JSCC||function(){var a={},b={};return {get:function(c){if(c in a){b[c]=a[c]();delete a[c];return b[c];}else return b[c];},init:function(c){copy_properties(a,c);}};}();
DynaTemplate=window.DynaTemplate||(function(){var g='[[',i='\\[\\[',h='\\]\\]';var l={};var a={};function d(n,m){return m.indexOf(g+n)!=-1;}function e(m){return Object.prototype.toString.call(m)==="[object Array]";}function f(m){return m&&typeof m=="object";}function c(m){switch(m){case "&":return "&amp;";case '"':return '&quot;';case "'":return '&#39;';case "<":return "&lt;";case ">":return "&gt;";default:return m;}}function b(m){m=String(m===null?"":m);return m.replace(/&(?!\w+;)|["'<>]/g,c);}function j(n){for(var m in n){var o=n[m];a[o[0]]=o[1];l[m]=o[1];}}function k(p,m){if(p.charAt(0)=='@')return k(a[p.substring(1)],m);if(d('#',p)||d('^',p)){var o=new RegExp(i+"(\\^|\\#)\\s*(.+)\\s*"+h+"\n*([\\s\\S]+?)"+i+"\\/\\s*\\2\\s*"+h+"\\s*","mg");p=p.replace(o,function(q,v,t,r){var w=m[t];w=(w&&w.__html!==undefined)?w.__html:w;if(v=='^'){if(!w||e(w)&&w.length===0){return k(r,m);}else return '';}else if(v=='#'){if(e(w)){var u=[];for(var s=0;s<w.length;s++)u.push(k(r,w[s]));return u.join('');}else if(f(w)){return k(r,w);}else if(!(typeof w=='function'))if(w)return k(r,m);return '';}});}if(!d("",p))return p;var n=new RegExp(i+"(>|\\[|&)?([^\\/#\\^]+?)\\1?"+h+"+","g");return p.replace(n,function(q,s,r){r=r.replace(/^\s*|\s*$/g,"");var t=m[r];if(!t||t instanceof Array&&t.length===0)return '';switch(s){case '>':if(t[0].charAt(0)=='@'){return k(t[0],t[1]);}else if(!(t[0] in l))return '';return k(l[t[0]],t[1]);case '&':default:if(window.HTML&&t instanceof HTML)return t.toString();return t.__html!==undefined?t.__html:b(t);}});}return {registerTemplates:j,renderToHtml:k};})();
__e("big-pipe",["arbiter","bootloader","dom-core","bind","copyProperties","invokeCallbacks"],function(i,m,l,g){var b=m('arbiter');var d=m('bootloader');var a=m('dom-core').$;var e=m('bind');var f=m('copyProperties');var h=m('dom-core').ge;var k=m('invokeCallbacks');var j=document.documentMode||+(/MSIE.(\d+)/.exec(navigator.userAgent)||[])[1];function c(n){f(this,{arbiter:b,rootNodeID:'content',lid:0,isAjax:false,rrEnabled:true,domContentCallback:domcontent_callback,onloadCallback:onload_callback,domContentEvt:OnloadEvent.ONLOAD_DOMCONTENT_CALLBACK,onloadEvt:OnloadEvent.ONLOAD_CALLBACK,forceFinish:false,jsEarlier:false,_phaseDoneCallbacks:[],_currentPhase:0,_lastPhase:-1});f(this,n);this._cavalry=(this.lid&&window.CavalryLogger)?CavalryLogger.getInstance(this.lid):null;this._inst=this._cavalry&&(window._pagelet_profile||this._cavalry.isPageletProfiler());c._current_instance=this;if(Env.tti_vision==1)(new TTIVisualizer(this)).init();this.arbiter.registerCallback(this.domContentCallback,['pagelet_displayed_all']);this.arbiter.inform('phase_begin_0',true,b.BEHAVIOR_STATE);this._inst&&this._cavalry.setTimeStamp('t_phase_begin_0');this.onloadCallback=this.arbiter.registerCallback(this.onloadCallback,['pagelet_displayed_all']);}f(c.prototype,{_ct:function(n){return (!n||'length' in n&&n.length===0)?{}:n;},_displayPageletHandler:function(n){if(this.displayCallback){this.displayCallback(this._displayPagelet.bind(this,n));}else this._displayPagelet(n);},_displayPagelet:function(p){if(this._inst)this._cavalry.onPageletEvent('display_start',p.id);p.content=this._ct(p.content);var o=true;for(var s in p.content){var n=p.content[s];if(p.append)s=(p.append==='bigpipe_root')?this.rootNodeID:p.append;var r=h(s);if(r){n=this._getContentMarkup(n);if(n)if(!p.append&&p.has_inline_js){if(window.DOM&&window.HTML){DOM.setContent(r,HTML(n));}else{o=false;d.loadComponents(['dom','dom-html'],function(){DOM.setContent(r,HTML(n));this.arbiter.inform(p.id+'_displayed',true,b.BEHAVIOR_STATE);}.bind(this));}}else if(p.append||j<8){if(!p.append)while(r.firstChild)r.removeChild(r.firstChild);this._appendNodes(r,n);}else r.innerHTML=n;if(this._inst)this._cavalry.onPageletEvent('display',p.id);var q=r.getAttribute('data-referrer');if(!q)r.setAttribute('data-referrer',s);}}if(o)this.arbiter.inform(p.id+'_displayed',true,b.BEHAVIOR_STATE);if(p.cache_hit&&Env.pc_debug==1)a(p.id).style.border="1px red solid";},_getContentMarkup:function(o){if(!o||typeof o==='string')return o;if(o.container_id){var n=a(o.container_id);o=this._extractMarkup(n)||'';n.parentNode.removeChild(n);return o;}if(o.length>=2)return DynaTemplate.renderToHtml(o[0],o[1]);return null;},_extractMarkup:function(o){if(!o.firstChild){d.loadComponents('error-signal',function(){send_error_signal('bigpipe','Pagelet markup container is empty.');});return null;}if(o.firstChild.nodeType!==8)return null;var n=o.firstChild.nodeValue;n=n.substring(1,n.length-1);return n.replace(/\\([\s\S]|$)/g,'$1');},_appendNodes:function(n,q){var r=document.createElement('div');var p=j<7;if(p)n.appendChild(r);r.innerHTML=q;var o=document.createDocumentFragment();while(r.firstChild)o.appendChild(r.firstChild);n.appendChild(o);if(p)n.removeChild(r);},_downloadJsForPagelet:function(n){d.loadResources(n.js||[],e(this,function(){if(this._inst)this._cavalry.onPageletEvent('jsdone',n.id);n.requires=n.requires||[];if(!this.isAjax||n.phase>=1)n.requires.push('uipage_onload');var p=e(this,function(){this._isRelevant()&&k(n.onload);if(this._inst)this._cavalry.onPageletEvent('onload',n.id);this.arbiter.inform('pagelet_onload',true,b.BEHAVIOR_EVENT);n.provides&&this.arbiter.inform(n.provides,true,b.BEHAVIOR_STATE);});var o=e(this,function(){this._isRelevant()&&k(n.onafterload);});if(this.delay){var q=p;p=function(){setTimeout(q,400);};}this.arbiter.registerCallback(p,n.requires);this.arbiter.registerCallback(o,[this.onloadEvt]);}),false,n.id);},_downloadCssAndDisplayPagelet:function(p){if(this._inst)this._cavalry.onPageletEvent('css',p.id);var o=e(this,function(){var q=p.display_dependency||[];var s=[];for(var r=0;r<q.length;r++)s.push(q[r]+'_displayed');this.arbiter.registerCallback(this._displayPageletHandler.bind(this,p),s);});var n=p.css||[];d.loadResources(n,o,false,p.id);if(this._inst)this._cavalry.onPageletEvent('css_end',p.id);},_downloadAndScheduleDisplayJS:function(q){var p=q.js||[];var n=[];for(var o=0;o<p.length;o++)if(d.isDisplayJS(p[o]))n.push(p[o]);d.loadResources(n,e(this,function(){if(q.ondisplay&&q.ondisplay.length)this.arbiter.registerCallback(function(){k(q.ondisplay);},[q.id+'_displayed']);}));},onPageletArrive:function(n){if(this._inst){this._cavalry.onPageletEvent('arrive',n.id);this._cavalry.events[n.id].phase=n.phase;}var o=n.phase;if(!this._phaseDoneCallbacks[o])this._phaseDoneCallbacks[o]=this.arbiter.registerCallback(this._onPhaseDone.bind(this),['phase_complete_'+o]);this.arbiter.registerCallback(this._phaseDoneCallbacks[o],[n.id+'_displayed']);if(n.cacheable){if(n.cache_hit){b.registerCallback(function(){this.processPagelet(this.loadFromCache(n));}.bind(this),['pagelet_cache_loaded']);}else{PageletCache.write(n);this.processPagelet(n);}}else this.processPagelet(n);if(this._inst)this._cavalry.onPageletEvent('arrive_end',n.id);},processPagelet:function(o){var p=o.phase;if(o.the_end)this._lastPhase=o.phase;if(o.tti_phase!==undefined)this._ttiPhase=o.tti_phase;if(o.is_second_to_last_phase)this._secondToLastPhase=o.phase;o.jscc&&k([o.jscc]);o.tplts&&DynaTemplate.registerTemplates(o.tplts);d.setResourceMap(o.resource_map);d.enableBootload(this._ct(o.bootloadable));var q='phase_begin_'+p;this.arbiter.registerCallback(this._downloadCssAndDisplayPagelet.bind(this,o),[q]);this.arbiter.registerCallback(this._downloadAndScheduleDisplayJS.bind(this,o),[q]);var n=[o.id+'_displayed'];if(!this.jsNonBlock)if(this.jsEarlier){n.push('start_to_download_js');}else n.push(this.domContentEvt);this.arbiter.registerCallback(this.onloadCallback,['pagelet_onload']);this.arbiter.registerCallback(this._downloadJsForPagelet.bind(this,o),n);if(o.jscalls)this.arbiter.registerCallback(function(){k([o.jscalls]);},[o.id+'_displayed']);o.is_last&&this.arbiter.inform('phase_complete_'+p,true,b.BEHAVIOR_STATE);},_onPhaseDone:function(){if(this._currentPhase===this._ttiPhase&&this.rrEnabled){this.arbiter.inform('tti_bigpipe',{s:this.lid},b.BEHAVIOR_EVENT);this._cavalry&&this._cavalry.setTTIPhase(this._ttiPhase).measurePageLoad(true);}var o=this._currentPhase+1;var n=(function(p){if(this.jsEarlier&&p)this.arbiter.inform('start_to_download_js',true,b.BEHAVIOR_STATE);this._inst&&this._cavalry.setTimeStamp('t_phase_begin_'+o);this.arbiter.inform('phase_begin_'+o,true,b.BEHAVIOR_STATE);}).bind(this,this._currentPhase===this._secondToLastPhase);if(this._currentPhase===this._lastPhase&&this._isRelevant())this.arbiter.inform('pagelet_displayed_all',true,b.BEHAVIOR_STATE);this._currentPhase++;if(j){setTimeout(n,20);}else n();},_isRelevant:function(){return this==c._current_instance||this.jsNonBlock||this.forceFinish;}});c.pagelet_ids={};i.BigPipe=l.exports=c;},3);
__e("deferUntil",[],function(c,e,d,b){function a(h,g,l,f,m){var j=g();if(j){h(j);return null;}var k=Date.now();var i=setInterval(function(){j=g();if(!j){if(!l||(l<new Date()-k))return;m&&m();}clearInterval(i);h(j);},20,f);return i;}d.exports=a;});
__e("function-utils",["FunctionUtils","deferUntil"],function(b,c){var a=c('FunctionUtils');b.debounce=a.debounce;b.throttle=a.throttle;b.defer_until=c('deferUntil');},3);
function namespace(e,f){var d=e.split('.'),a=0,b=d.length,c=f||window;for(;a<b;a++){if(!c[d[a]])c[d[a]]={};c=c[d[a]];}return c;}
function incorporate_fragment(a){var c=/^(?:(?:[^:\/?#]+):)?(?:\/\/(?:[^\/?#]*))?([^?#]*)(?:\?([^#]*))?(?:#(.*))?/;var b='';a.href.replace(c,function(d,g,h,f){var e,i;e=i=g+(h?'?'+h:'');if(f){f=f.replace(/^(!|%21)/,'');if(f.charAt(0)=='/')e=f.replace(/^\/+/,'/');}if(e!=i){if(window._script_path)document.cookie="rdir="+window._script_path+"; path=/; domain="+window.location.hostname.replace(/^.*(\.facebook\..*)$/i,'$1');window.location.replace(b+e);}});}if(window._incorporate_fragment)incorporate_fragment(window.location);
!function(){var b=document.documentElement;var a=function(c){c=c||window.event;var d=c.target||c.srcElement;var f=d.getAttribute('placeholder');if(f){var e=Parent.byClass(d,'focus_target');if('focus'==c.type||'focusin'==c.type){if(d.value==f&&CSS.hasClass(d,'DOMControl_placeholder')){d.value='';CSS.removeClass(d,'DOMControl_placeholder');}if(e){CSS.addClass(e,'child_is_active');CSS.addClass(e,'child_is_focused');CSS.addClass(e,'child_was_focused');Arbiter.inform('reflow');}}else{if(d.value==''){CSS.addClass(d,'DOMControl_placeholder');d.value=f;e&&CSS.removeClass(e,'child_is_active');d.style.direction='';}e&&CSS.removeClass(e,'child_is_focused');}}};if(b.addEventListener){b.addEventListener('focus',a,true);b.addEventListener('blur',a,true);}else b.onfocusin=b.onfocusout=a;}();
document.documentElement.onkeydown=function(a){a=a||window.event;var b=a.target||a.srcElement;var c=a.keyCode==13&&!a.altKey&&!a.ctrlKey&&!a.metaKey&&!a.shiftKey&&CSS.hasClass(b,'enter_submit');if(c){Bootloader.loadComponents(['dom','input-methods'],function(){if(!Input.isEmpty(b)){var d=DOM.scry(b.form,'.enter_submit_target')[0]||DOM.scry(b.form,'[type="submit"]')[0];d&&d.click();}});return false;}};
function fc_click(a,b){user_action('ufi',a);fc_expand(a,b);}function fc_expand(a,b){var c=Parent.byTag(a,'form');fc_uncollapse(c);CSS.removeClass(c,'hidden_add_comment');if(b!==false)(c.add_comment_text_text||c.add_comment_text).focus();return false;}function fc_uncollapse(a){CSS.removeClass(a,'collapsed_comments');}