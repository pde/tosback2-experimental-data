function jqXMLUtils(b){b.extend({xmlToJSON:function(c){try{if(!c)return null;var a={typeOf:"JSXBObject"},d=c.nodeType==9?c.documentElement:c;a.RootName=d.nodeName||"";if(c.nodeType==3||c.nodeType==4)return c.nodeValue;var e=function(a){var b="";a&&typeof a=="string"&&(b=a);return/^((-)?([0-9]*)((\.{0,1})([0-9]+))?$)/.test(b)},f=function(a,c){if(c.attributes.length>0){var d=c.attributes.length-1,e;a._attributes=[];do e=String(String(c.attributes[d].name).replace(/-/g,"_")),a._attributes.push(e),a[e]=
b.trim(c.attributes[d].value);while(d--)}},i=function(a){a.getNodeByAttribute=function(a,b){if(this.length>0){var c,d=this.length-1;try{do if(c=this[d],c[a]==b)return c;while(d--)}catch(e){}return!1}};a.contains=function(a,b){if(this.length>0){var c=this.length-1;try{do if(this[c][a]==b)return!0;while(c--)}catch(d){}return!1}};a.indexOf=function(a,b){var c=-1;if(this.length>0){var d=this.length-1;try{do this[d][a]==b&&(c=d);while(d--)}catch(e){return-1}return c}};a.SortByAttribute=function(a,b){if(this.length){var c=
function(a,b){var c=a[b];return c=e(c)?parseFloat(c):c};this.sort(function(d,e){var f=0,g,j;g=c(d,a);j=c(e,a);g<j?f=-1:j<g&&(f=1);b&&(f=b.toUpperCase()=="DESC"?0-f:f);return f})}};a.SortByValue=function(a){if(this.length){var b=function(a){a=a.Text;return a=e(a)?parseFloat(a):a};this.sort(function(c,d){var e=0,f,g;f=b(c);g=b(d);f<g?e=-1:g<f&&(e=1);a&&(e=a.toUpperCase()=="DESC"?0-e:e);return e})}};a.SortByNode=function(a,b){if(this.length){var c=function(a,b){var c=a[b][0].Text;return c=e(c)?parseFloat(c):
c};this.sort(function(d,e){var f=0,g,j;g=c(d,a);j=c(e,a);g<j?f=-1:j<g&&(f=1);b&&(f=b.toUpperCase()=="DESC"?0-f:f);return f})}}},k=function(a,c){var d,e,g,o="";if(!c)return null;c.attributes.length>0&&f(a,c);a.Text="";if(c.hasChildNodes()){var q=c.childNodes.length-1,m=0;do switch(e=c.childNodes[m],e.nodeType){case 1:a._children=[];d=e.localName?e.localName:e.baseName;d=String(d).replace(/-/g,"_");o!=d&&a._children.push(d);a[d]||(a[d]=[]);g={};a[d].push(g);e.attributes.length>0&&f(g,e);a[d].contains||
i(a[d]);o=d;e.hasChildNodes()&&k(g,e);break;case 3:a.Text+=b.trim(e.nodeValue);break;case 4:a.Text+=e.text?e.text:e.nodeValue}while(m++<q)}};k(a,d);d=c=null;return a}catch(g){return null}}})};var JSAM_json={preloaded:!1,returnString:"",constructs:[],buildFrom:function(b){this.constructs=[];this.loadXML(b);typeof JSAM.debug!="undefined"&&JSAM.debug("XML path: "+b+"\nJSON object tree RootName: "+this.constructs.RootName)},loadXML:function(b){jQuery.ajax({beforeSend:function(b){b.overrideMimeType("text/plain; charset=UTF-8")},type:"GET",async:!1,success:this.onSuccess,error:this.onError,url:b})},onSuccess:function(b,c,a){JSAM_json.parseXML(a.responseText)},onError:function(b){JSAM_json.parseXML(b.responseText)},
parseXML:function(b){JSAM_json.returnString=b;JSAM_json.constructs=jQuery.xmlToJSON(JSAM_json.createXMLobject(b));if(JSAM.isHomepage)JSAM_json.preloaded=!0,JSAM.debug("JSAM_json homepage injection into","#"+targetingFW.getGeoTargetedSlots()[0]),JSAM.debug("Does container exist?",jQuery("#"+targetingFW.getGeoTargetedSlots()[0]).length>0),jQuery("#"+targetingFW.getGeoTargetedSlots()[0]).length>0&&(targetingFW.populateMarquee(),JSAM.debug("Injection complete!"))},createXMLobject:function(b){for(var c=
!1,a=0,d="",e=0;e<b.length;e++)b.charAt(e)==="&"?(c?d+="&amp;"+b.substring(a+1,e):(d+=b.substring(a,e),c=!0),a=e):b.charAt(e)===";"&&(d+=b.substring(a,e),c=!1,a=e);d+=c?"&amp;"+b.substring(a+1):b.substring(a);b=d;c=RegExp(unescape("%uFFFD"),"g");a=RegExp(unescape("%uFFFF"),"g");b=b.replace(c,"").replace(a,"");jQuery.browser.msie&&(c=RegExp(unescape("%E2%84%A2"),"g"),a=RegExp(unescape("%C2%A2"),"g"),d=RegExp(unescape("%E2%80%93"),"g"),e=RegExp(unescape("%C2%AE"),"g"),b=b.replace(c,"&#8482;").replace(a,
"&#162;").replace(d,"&#8211;").replace(e,"&#174;"));window.DOMParser?c=(new DOMParser).parseFromString(b,"text/xml"):(c=new ActiveXObject("Microsoft.XMLDOM"),c.async="false",c.loadXML(b));return c}};function JSAM_init(){this.loadDependencies=function(){this.incFile("/media/en_US/scripts/JSAM/JSAM.css")};this.incFile=function(b){var c=document.getElementsByTagName("head")[0];if(b.indexOf(".js")!=-1){var a=document.createElement("script");a.setAttribute("src",b);a.setAttribute("type","text/javascript")}else b.indexOf(".css")!=-1&&(a=document.createElement("link"),a.setAttribute("href",b),a.setAttribute("rel","stylesheet"),a.setAttribute("type","text/css"));c.appendChild(a)};this.loadDependencies()}
JSAM_init();
var JSAM={preloaded:!1,preloader:function(b){if(typeof targetingFW.getMarqueeBuffer()!=="undefined"){var c=targetingFW.getMarqueeBuffer(),c=c.slice(c.indexOf("FlashVars=configXML=")+20),c=c.slice(0,c.indexOf(","));if(c.indexOf("/en_US/")!==-1)this.preloaded=!0,jqXMLUtils(jQuery),this.debug("preloading marquee",c),JSAM_json.buildFrom(c)}else typeof b==="undefined"&&(b=1),c=b>5?(b-4)*100:100,JSAM.debug("Waiting "+c+" milliseconds for homepage marqueeBuffer"),b++,setTimeout(function(){JSAM.preloader(b)},c)},
designMode:function(){return typeof JSAM_designMode!="undefined"||location.search.indexOf("JSAM_designMode=true")!=-1?!0:!1}(),debugMode:function(){return typeof console!="undefined"&&location.search.indexOf("JSAM_debugMode=true")!=-1?!0:!1}(),debug:function(b,c){this.debugMode&&(c?console.log(b+" : "+c):console.log(b))},isMobileDevice:!1,origin:"",isLocalized:!1,localizeURL:function(b){return b?this.isLocalized&&b.charAt(0)==="/"?this.origin+b:b:""},addWebtrends:function(b){var c=b,a="";if(c.charAt(0)===
"#")return c;else c.indexOf("#")!=-1&&(c=c.split("#"),a="#"+c[1],c=c[0]);this.contentID[this.id]&&(c=b.indexOf("?")===-1?c+"?wtSlotClick="+this.contentID[this.id]+"-"+this.linkNumber+"&rel=nofollow":c+"&wtSlotClick="+this.contentID[this.id]+"-"+this.linkNumber+"&rel=nofollow");this.linkNumber++;return c+a},id:1,width:"628",height:"184",isJsp:!1,CIFmarqueeID:"",marquee:void 0,hasFlash:function(){return swfobject.hasFlashPlayerVersion("9")}(),isHomepage:function(){return location.pathname.replace(location.hash,
"").replace(location.search,"")==="/"?!0:!1}(),loader:function(b,c,a){if(JSAM.isHomepage&&JSAM.preloaded&&JSAM_json.preloaded)JSAM.loaded(b,c);else if(!JSAM.isHomepage&&typeof jQuery!=="undefined")jqXMLUtils(jQuery),JSAM.loaded(b,c);else{typeof a==="undefined"&&(a=1);var d=a>5?(a-4)*100:100;JSAM.debug("Waiting "+d+" milliseconds for JSAM dependencies to be load");a++;setTimeout(function(){JSAM.loader(b,c,a)},d)}},createMarquee:function(b,c){this.loader(b,c)},loaded:function(b,c){if(c){var a=jQuery(c.divName?
"#"+c.divName:"#marqueeHolder");this.width=c.width||this.width;this.height=c.height||this.height;if(c.origin)this.origin=c.origin,this.isLocalized=!0;if(c.isMobileDevice)this.isMobileDevice=c.isMobileDevice;else{var d=navigator.userAgent.indexOf("iPhone")!==-1?!0:!1,e=navigator.userAgent.indexOf("iPad")!==-1?!0:!1,f=navigator.userAgent.indexOf("Android")!==-1?!0:!1,i=navigator.userAgent.indexOf("IEMobile")!==-1?!0:!1,k=navigator.userAgent.indexOf("Tablet")!==-1?!0:!1,g=navigator.userAgent.indexOf("Phone")!==
-1?!0:!1,j=navigator.userAgent.indexOf("Mobile")!==-1?!0:!1;this.isMobileDevice=d||e||f||i||k||g||j?!0:!1}if(c.callback)this.callback=c.callback}else a=jQuery("#marqueeHolder");this.marquee=a;jQuery("#JSAM_loader").length<1&&(d=jQuery(document.createElement("img")).attr({id:"JSAM_loader",src:"http://www.att.com/images/global/ajaxLoader.gif"}).css({position:"absolute",left:Math.round((this.width-43)/2)+"px",top:Math.round((this.height-43)/2)+"px"}),this.isHomepage&&d.css("top","290px"),this.marquee.css({height:this.height+
"px",width:this.width+"px",position:"relative","z-index":"0"}).append(d));b=b.split(",")[0].replace("FlashVars=configXML=","");if(b.indexOf(".jsp")!==-1)this.isJsp=!0,d=b.split("&marqueeId="),b=d[0],this.CIFmarqueeID=d[1]||"";this.preloaded||JSAM_json.buildFrom(b);if(JSAM_json.constructs.RootName=="panel")JSAM_json.constructs.panel=[JSAM_json.constructs];!JSAM_json.constructs||JSAM_json.constructs.RootName&&JSAM_json.constructs.RootName==="parsererror"?typeof altFlash!=="undefined"?a.html(altFlash):
this.debug("altFlash is undefined."):this.buildElements(JSAM_json.constructs,a)},buttonPosition:0,elementsLoaded:!1,buildElements:function(b,c){if(b.rotationDelay)this.rotationDelay=b.rotationDelay*1E3;if(b.transition&&b.transition[0].duration)this.changeDuration=b.transition[0].duration*1E3;if(b.panel)for(var a=0;a<b.panel.length;a++)this.toolTipID=this.flashID=0,this.createPanel(b.panel[a],c);if(!this.loadEventSet)JSAM.backgroundLoaded=!0;var d=jQuery(document.createElement("div"));d.attr("id",
"JSAM_buttonContainer");this.width<800?this.isMobileDevice?(d.css("bottom","0px"),this.buttonPosition=0,d.css("right","0px")):(this.buttonPosition=5,d.css("right","5px")):this.isMobileDevice?(this.buttonPosition=Math.round((parseInt(this.width)-75*this.numOfPanels)/2),d.css({left:this.buttonPosition+"px",bottom:"0px"})):(this.buttonPosition=Math.round((parseInt(this.width)-(15+(this.numOfPanels-1)*20))/2),d.css("left",this.buttonPosition+"px"));this.id=1;if(b.panel)for(a=0;a<b.panel.length;a++)this.panelStatus[a]&&
(this.createButton(this.id,b.panel[a],d),this.id++);c.append(d);this.id=1;if(b.panel)for(a=0;a<b.panel.length;a++)this.panelStatus[a]&&(this.createHover(this.id,b.panel[a],c),this.id++);this.numOfPanels===0?typeof altFlash!=="undefined"?c.html(altFlash):this.debug("altFlash is undefined."):(this.elementsLoaded=!0,jQuery(window).load(function(){JSAM.debug("Window loaded fail-safe event fired.");JSAM.backgroundLoaded=!0;JSAM.start()}),this.start())},JSAM_loaded:!1,start:function(){if(this.elementsLoaded&&
this.backgroundLoaded&&!this.JSAM_loaded)this.JSAM_loaded=!0,jQuery("#JSAM_rotation1").fadeIn(this.isMobileDevice?this.changeDuration*1.5:this.changeDuration,function(){JSAM.hasFlash&&JSAM.createFlash();JSAM.hasFiredWT[1]=!0;dcsMultiTrack("DCS.dcsuri",window.location.pathname,"DCS.dcsref",window.location.href,"DCSext.wtSlotContent",JSAM.contentID[1],"DCSext.wtNoHit","1");JSAM.numOfPanels>1&&(JSAM.startTimer(),jQuery("#JSAM_buttonContainer").show());jQuery("#JSAM_loader").remove();typeof JSAM.callback!=
"undefined"&&JSAM.callback()})},panelStatus:[],hasFiredWT:[],contentID:[],linkNumber:1,loadEventSet:!1,backgroundLoaded:!1,createPanel:function(b,c){try{this.linkNumber=1;this.contentID[this.id]=this.isJsp?"2-"+b.contentID+"-"+this.CIFmarqueeID+"-"+this.id:"1-"+b.contentID+"-"+this.id;var a=jQuery(document.createElement("div"));a.addClass("JSAM_panel");a.attr("id","JSAM_rotation"+this.id);if(b.background&&b.background!==""){var d=jQuery(document.createElement("img"));if(!this.loadEventSet)this.loadEventSet=
!0,d.load(function(a){JSAM.debug("Background loaded, starting fade in. Logging load event:");JSAM.debug(a);JSAM.backgroundLoaded=!0;JSAM.start()});d.attr("src",this.localizeURL(b.background)).addClass("JSAM_background");b.alt&&d.attr("alt",b.alt);d.css({position:"absolute",top:"0px",left:"0px"});a.append(d);this.isMobileDevice&&d.click(function(){JSAM.cancelTouchEvent()})}this.id>1?a.css({display:"none","z-index":"1"}):a.css({display:"none","z-index":"2"});if(b.useJSAM&&b.useJSAM==="0"||b.schedule&&
!this.checkSchedule(b.schedule))this.debug("Panel #"+this.id+' cannot be shown because its schedule has expired or the "use in javascript version" box is unchecked.'),this.panelStatus.push(!1);else{if(b.asset)for(d=0;d<b.asset.length;d++)this.createAsset(b.asset[d],a);this.panelStatus.push(!0);c.append(a);this.id++;this.numOfPanels++}}catch(e){this.debug("Error in creating panel #"+this.id,e),this.panelStatus.push(!1)}},createAsset:function(b,c){var a=!1;if(b.version)for(var d=b.version.length-1;d>=
0;d--)if(!b.version[d].schedule||this.checkSchedule(b.version[d].schedule)){for(var a=!0,e=0;e<b.version[d]._attributes.length;e++)b[b.version[d]._attributes[e]]=b.version[d][b.version[d]._attributes[e]];for(e=0;e<b.version[d]._children.length;e++)b[b.version[d]._children[e]]=b.version[d][b.version[d]._children[e]];if(b.version[d].label)b.label=b.version[d].label;break}if(a||!b.schedule||this.checkSchedule(b.schedule))switch(b.type){case "Text":this.createTextAsset(b,c);break;case "Media":b.name&&
b.name==="CountdownTimer"?this.createTimerAsset(b,c):this.createMediaAsset(b,c);break;case "Button":this.createButtonAsset(b,c);break;case "Link":this.createLinkAsset(b,c)}},adjustAsset:function(b,c,a){try{if(b.name&&b.name.indexOf("{")!=-1&&b.name.indexOf("}")!=-1)for(var d=b.name.substring(b.name.indexOf("{")+1,b.name.indexOf("}")).split(","),e=0;e<d.length;e++)if(myAdjust=d[e].split(":"),a)for(var f=0;f<a.length;f++)a[f]===myAdjust[0]&&c.css(myAdjust[0],myAdjust[1]);else c.css(myAdjust[0],myAdjust[1])}catch(i){this.debug("Error adjusting asset "+
b.name,i)}},createTextAsset:function(b,c){var a=jQuery(document.createElement("div"));a.addClass("JSAM_textAsset");this.designMode&&a.data("json",b);var d=this.parseCssClass(b),e=b.align||"left",f=b.horizontalPlacement||"left",i=b.verticalPlacement||"top";if(f=="right")d.left=parseInt(d.left.replace("px",""))*-1+"px";if(i=="bottom")d.top=parseInt(d.top.replace("px",""))*-1+"px";this.createTooltip(b.label[0].Text,d,a,f,i);for(var k=this.stripTooltip(b.label[0].Text).split("\n"),g=0;g<k.length;g++)if(g===
0)a.html(this.preserveSpacing(k[g]));else{var j=jQuery(document.createElement("div"));j.css({"white-space":"nowrap","margin-top":d.height+"px","margin-left":d.offset+"px","font-family":d.font,"font-size":d.size,color:d.color,"text-align":e,"letter-spacing":d.letterSpacing,"font-weight":d.fontWeight,"line-height":"1em"}).html(this.preserveSpacing(k[g]));jQuery.browser.msie&&g==k.length-1&&j.css("padding-bottom","5px");a.append(j)}g={position:"absolute","font-family":d.font,"font-size":d.size,color:d.color,
"text-align":e,"letter-spacing":d.letterSpacing,"font-weight":d.fontWeight,"line-height":"1em",width:typeof b.width==="undefined"?"auto":b.width+"px"};g[f]=d.left;g[i]=d.top;a.css(g);jQuery.browser.msie&&k.length===1&&a.css("padding-bottom","5px");this.adjustAsset(b,a);b.cta&&(d=jQuery(document.createElement("a")),d.css({"font-family":a.css("font-family"),"font-size":a.css("font-size"),color:a.css("color"),"text-align":e,"letter-spacing":a.css("letter-spacing"),"font-weight":a.css("font-weight"),
"line-height":"1em"}),d.html(a.html()),a.html(""),b.cta[0].url?(d.attr({href:this.addWebtrends(this.localizeURL(b.cta[0].url)),target:typeof b.cta[0].window==="undefined"?"_self":b.cta[0].window}),a.append(d)):b.cta[0].action&&b.cta[0].action==="JS"&&(d.attr("href","javascript:void(0);"),d.click(function(){JSAM.executeFunctionByName(b.cta[0].method,window,b.cta[0].param);return!1}),a.append(d)));c.append(a)},preserveSpacing:function(b){return b.replace(/\s\s/g,"&nbsp;&nbsp;").replace(/&nbsp;\s/g,
"&nbsp;&nbsp;")},flashID:0,createMediaAsset:function(b,c){if(b.source.indexOf(".swf")!==-1)return!1;else if(b.isVideo&&parseInt(b.isVideo)){if(this.hasFlash){var a="JSAM_videoPlayer_"+this.id+"_"+this.flashID,d=jQuery(document.createElement("div"));d.addClass("JSAM_flashHolder");this.designMode&&d.data("json",b);d.css({left:(b.x||0)+"px",top:(b.y||0)+"px"}).data({height:b.height?b.height+"px":this.height,width:b.width?b.width+"px":this.width,source:b.source,loop:b.loop==="1"?!0:!1,id:a}).html('<div id="'+
a+'"></div>');this.adjustAsset(b,d);c.append(d);this.flashID++}}else a=jQuery(document.createElement("img")),b.alt&&a.attr("alt",b.alt),a.addClass("JSAM_mediaAsset"),this.designMode&&a.data("json",b),a.attr("src",this.localizeURL(b.source)).css({position:"absolute",border:"none",left:b.x+"px",top:b.y+"px"}),this.adjustAsset(b,a),b.cta?(d=jQuery(document.createElement("a")),b.cta[0].url?(d.attr({href:this.addWebtrends(this.localizeURL(b.cta[0].url)),target:typeof b.cta[0].window==="undefined"?"_self":
b.cta[0].window}),d.append(a),c.append(d)):b.cta[0].action&&b.cta[0].action==="JS"?(d.attr("href","javascript:void(0);"),d.click(function(){JSAM.executeFunctionByName(b.cta[0].method,window,b.cta[0].param);return!1}),d.append(a),c.append(d)):c.append(a)):c.append(a)},timerID:0,createTimerAsset:function(b,c){var a=jQuery(document.createElement("div"));a.addClass("JSAM_countdownTimer");this.designMode&&a.data("json",b);a.css({position:"absolute",left:jQuery.browser.msie?parseInt(b.x)+1+"px":b.x+"px",
top:b.y+"px",width:"auto"});for(var d=b.params.split("&"),e=this.endDate,f=!1,i=!1,k=35,g=15,j={},h=[],l=0;l<d.length;l++)h[l]=d[l].split("=");for(l=0;l<h.length;l++)switch(h[l][0]){case "expirationDate":if(h[l][1]!=="scheduleController.endDate"){var e=h[l][1],e=e.split(" "),d=e[0].split("/"),n=e[1].split(":"),e=e[2].replace("GMT","").replace(/0/g,""),p=currentTimeZone-e,e=new Date(d[2],d[0]-1,d[1],n[0],n[1],n[2]);e.setTime(returnMe.getTime()+p*36E5)}break;case "digitSpacing":g=parseInt(h[l][1]);
break;case "showDays":f=parseInt(h[l][1]);break;case "textFormat":d=h[l][1].substring(h[l][1].indexOf("{")+1,h[l][1].indexOf("}")).split(",");for(l=0;l<d.length;l++)switch(myCss=d[l].split(":"),myCss[0]){case "size":j["font-size"]=myCss[1]+"px";break;case "color":j.color=myCss[1].replace("0x","#");break;case "bold":myCss[1]==="true"&&(j["font-weight"]="bold");break;case "italic":myCss[1]==="true"&&(j["font-style"]="italic");break;case "font":j["font-family"]=myCss[1];break;default:j[myCss[0]]=myCss[1]}break;
case "hideZeros":i=parseInt(h[l][1]);break;case "digitWidth":k=parseInt(h[l][1]);break;case "digitHeight":j["line-height"]=parseInt(h[l][1]+2)+"px"}e.setTime(e.getTime()-this.serverTime.getTime());h=e.getTime();l=this.countMillis(h);e=0;f&&(e=jQuery(document.createElement("div")),e.attr("id","JSAM_dayDiv"+this.timerID).addClass("JSAM_timerDigit").css(j).html(!i?this.checkTime(l.days):l.days),a.append(e),e=k+g);d=jQuery(document.createElement("div"));d.attr("id","JSAM_hourDiv"+this.timerID).addClass("JSAM_timerDigit").css(j).css("left",
e+"px").html(!i?this.checkTime(l.hours):l.hours);a.append(d);e+=k+g;d=jQuery(document.createElement("div"));d.attr("id","JSAM_minuteDiv"+this.timerID).addClass("JSAM_timerDigit").css(j).css("left",e+"px").html(!i?this.checkTime(l.minutes):l.minutes);a.append(d);e+=k+g;k=jQuery(document.createElement("div"));k.attr("id","JSAM_secondDiv"+this.timerID).addClass("JSAM_timerDigit").css(j).css("left",e+"px").html(!i?this.checkTime(l.seconds):l.seconds);a.append(k);c.append(a);this.startCountdown(this.timerID,
h,f,i);this.timerID++},startCountdown:function(b,c,a,d){if(c<=0)a&&jQuery("#JSAM_dayDiv"+b).html(!d?"00":"0"),jQuery("#JSAM_hourDiv"+b).html(!d?"00":"0"),jQuery("#JSAM_minuteDiv"+b).html(!d?"00":"0"),jQuery("#JSAM_secondDiv"+b).html(!d?"00":"0");else{var e=JSAM.countMillis(c);a&&jQuery("#JSAM_dayDiv"+b).html(!d?JSAM.checkTime(e.days):e.days);jQuery("#JSAM_hourDiv"+b).html(!d?JSAM.checkTime(e.hours):e.hours);jQuery("#JSAM_minuteDiv"+b).html(!d?JSAM.checkTime(e.minutes):e.minutes);jQuery("#JSAM_secondDiv"+
b).html(!d?JSAM.checkTime(e.seconds):e.seconds);c-=1E3;setTimeout(function(){JSAM.startCountdown(b,c,a,d)},1E3)}},countMillis:function(b){var c={};c.days=Math.floor(b/864E5);c.hours=Math.floor((b-c.days*864E5)/36E5);c.minutes=Math.floor((b-c.days*864E5-c.hours*36E5)/6E4);c.seconds=Math.floor((b-c.days*864E5-c.hours*36E5-c.minutes*6E4)/1E3);return c},checkTime:function(b){b<10&&(b="0"+b);return b},flashLoaded:[],createFlash:function(){(this.newPanel||jQuery("#JSAM_rotation"+this.currentPanelNumber)).find(".JSAM_flashHolder").each(function(){var b=
jQuery(this),c={source:b.data("source"),loop:b.data("loop"),scaleMode:"noScale"},a={quality:"high",bgcolor:"#ffffff",play:"true",loop:b.data("loop"),wmode:"transparent",scale:"showall",menu:"true",devicefont:"false",salign:"",allowscriptaccess:"sameDomain"},d={id:b.data("id"),name:b.data("id"),align:"middle"};swfobject.embedSWF(JSAM.localizeURL("/media/en_US/scripts/JSAM/JSAM_VideoPlayer.swf"),b.data("id"),b.data("width"),b.data("height"),"9.0.124","",c,a,d);JSAM.flashLoaded[JSAM.currentPanelNumber-
1]=!0})},flashCompleteHandler:function(){},playFlash:function(){(this.newPanel||jQuery("#JSAM_rotation"+this.currentPanelNumber)).find(".JSAM_flashHolder").each(function(){try{this.firstChild.JSAM_controlVideo("play")}catch(b){JSAM.debug("Error playing flash",b)}})},stopFlash:function(){this.oldPanel.find(".JSAM_flashHolder").each(function(){try{this.firstChild.JSAM_controlVideo("stop")}catch(b){JSAM.debug("Error stopping flash",b)}})},largeFontSize:19,smallFontSize:13,createButtonAsset:function(b,
c){var a=jQuery(document.createElement("div"));a.addClass("JSAM_button");this.designMode&&a.data("json",b);var d=jQuery(document.createElement("a")),e,f;switch(b.styleLib){case "Default":a.addClass("JSAM_buttonBig");a.addClass("JSAM_buttonDefault");f="JSAM_IEbuttonBig";e="JSAM_buttonDefault";break;case "Default.Secondary":a.addClass("JSAM_buttonBig");a.addClass("JSAM_buttonDefaultSecondary");e="JSAM_buttonDefaultSecondary";break;case "Default.Green":a.addClass("JSAM_buttonBig");a.addClass("JSAM_buttonDefaultGreen");
e="JSAM_buttonDefaultGreen";break;case "Default.Small":a.addClass("JSAM_buttonSmall");a.addClass("JSAM_buttonDefault");f="JSAM_IEbuttonSmall";e="JSAM_buttonDefault";break;case "Default.SecondarySmall":a.addClass("JSAM_buttonSmall");a.addClass("JSAM_buttonDefaultSecondary");e="JSAM_buttonDefaultSecondary";break;case "Default.GreenSmall":a.addClass("JSAM_buttonSmall");a.addClass("JSAM_buttonDefaultGreen");e="JSAM_buttonDefaultGreen";break;default:a.addClass("JSAM_buttonBig"),a.addClass("JSAM_buttonDefault"),
e="JSAM_buttonDefault"}e+="Over";b.label&&a.html(b.label[0].Text);b.width&&a.css({width:b.width+"px","padding-left":"0","padding-right":"0"});b.height&&a.css({height:b.height+"px","padding-top":(b.height-(b.styleLib.indexOf("Small")==-1?this.largeFontSize:this.smallFontSize))/2+"px","padding-bottom":"0"});b.alpha&&a.css({opacity:b.alpha,filter:"alpha(opacity="+b.alpha*100+")"});a.css({position:"absolute",left:b.x+"px",top:b.y+"px"});b.cta&&b.cta[0].url?d.attr({href:this.addWebtrends(this.localizeURL(b.cta[0].url)),
target:typeof b.cta[0].window==="undefined"?"_self":b.cta[0].window}):b.cta&&b.cta[0].action&&b.cta[0].action==="JS"&&(d.attr("href","javascript:void(0);"),d.click(function(){JSAM.executeFunctionByName(b.cta[0].method,window,b.cta[0].param);return!1}));d.css("text-decoration","none");if(jQuery.browser.msie&&e==="JSAM_buttonDefaultOver"){a.css({opacity:0,filter:"alpha(opacity=0)"});var i=jQuery(document.createElement("div")),k=jQuery(document.createElement("table")).addClass("JSAM_IEbuttonTable"),
g=jQuery(document.createElement("tbody")),j=jQuery('<tr><td class="JSAM_IEborder JSAM_blueCorner" style="background-image:url('+this.localizeURL("/media/en_US/scripts/JSAM/JSAM_blueCorner1.png")+')"></td><td class="JSAM_IEborder JSAM_blueTop"></td><td class="JSAM_IEborder JSAM_blueCorner" style="background-image:url('+this.localizeURL("/media/en_US/scripts/JSAM/JSAM_blueCorner2.png")+')"></td></tr>'),h=jQuery(document.createElement("tr")),l=jQuery('<tr><td class="JSAM_IEborder JSAM_blueCorner" style="background:url('+
this.localizeURL("/media/en_US/scripts/JSAM/JSAM_blueCorner3.png")+')"></td><td class="JSAM_IEborder JSAM_blueBottom"></td><td class="JSAM_IEborder JSAM_blueCorner" style="background-image:url('+this.localizeURL("/media/en_US/scripts/JSAM/JSAM_blueCorner4.png")+')"></td></tr>'),n=jQuery(document.createElement("td")).addClass("JSAM_IEborder JSAM_blueHorizontal"),p=jQuery(document.createElement("td")).addClass("JSAM_IEborder JSAM_blueHorizontal");f=jQuery(document.createElement("td")).addClass("JSAM_IEbutton JSAM_IEbuttonDefault "+
f);var o=jQuery(document.createElement("div")).addClass("JSAM_IEbuttonText");b.label&&o.html(b.label[0].Text);b.width&&f.css({width:(b.width-4<0?0:b.width-4)+"px","padding-left":"0","padding-right":"0"});b.height&&f.css({height:(b.height-4>0?0:b.height-4)+"px","padding-top":(b.height-(b.styleLib.indexOf("Small")==-1?this.largeFontSize:this.smallFontSize))/2+"px","padding-bottom":"0"});b.alpha&&i.css({opacity:b.alpha,filter:"alpha(opacity="+b.alpha*100+")"});i.css({position:"absolute",left:b.x+"px",
top:b.y+"px"});a.data("myTable",k);a.mouseover(function(){var a=jQuery(this).data("myTable");a.find(".JSAM_IEbuttonDefault").addClass("JSAM_IEbuttonDefaultOver");a.find(".JSAM_blueTop").addClass("JSAM_blueTopOver");a.find(".JSAM_blueBottom").addClass("JSAM_blueBottomOver");a.find(".JSAM_blueHorizontal").addClass("JSAM_blueHorizontalOver");a.find(".JSAM_blueCorner").each(function(a){jQuery(this).css("background-image","url('"+JSAM.localizeURL("/media/en_US/scripts/JSAM/JSAM_blueCorner"+(a+1)+"_over.png")+
"')")})});a.mouseout(function(){var a=jQuery(this).data("myTable");a.find(".JSAM_IEbuttonDefault").removeClass("JSAM_IEbuttonDefaultOver");a.find(".JSAM_blueTop").removeClass("JSAM_blueTopOver");a.find(".JSAM_blueBottom").removeClass("JSAM_blueBottomOver");a.find(".JSAM_blueHorizontal").removeClass("JSAM_blueHorizontalOver");a.find(".JSAM_blueCorner").each(function(a){jQuery(this).css("background-image","url('"+JSAM.localizeURL("/media/en_US/scripts/JSAM/JSAM_blueCorner"+(a+1)+".png")+"')")})});f.append(o);
h.append(n).append(f).append(p);i.append(k);k.append(g);g.append(j).append(h).append(l);c.append(i)}else a.mouseover(function(){jQuery(this).addClass(e)}),a.mouseout(function(){jQuery(this).removeClass(e)});d.append(a);c.append(d)},createLinkAsset:function(b,c){var a=jQuery(document.createElement("div"));a.addClass("JSAM_linkAsset");this.designMode&&a.data("json",b);var d=this.parseCssClass(b,!0);if(b.bulletIcon){var e=jQuery(document.createElement("img"));e.attr("src",this.localizeURL(b.bulletIcon));
e.css({border:"none",position:"absolute",left:-1*(e.width+d.bullOffset)+"px",top:Math.round(-0.5*(e.height-d.textHeight))+"px"});e.load(function(){jQuery(this).css({left:-1*(e.width+d.bullOffset)+"px",top:Math.round(-0.5*(e.height-d.textHeight))+"px"})});jQuery(document).ready(function(){jQuery(this).css({left:-1*(e.width+d.bullOffset)+"px",top:Math.round(-0.5*(e.height-d.textHeight))+"px"})});var f=jQuery(document.createElement("a"));f.append(e);a.append(f)}var i=b.align||"left";a.css({position:"absolute",
left:d.left,top:d.top,"text-align":i,"line-height":"1em"});var k=jQuery(document.createElement("a"));k.css({color:d.color,"font-family":d.font,"font-size":d.size,"font-weight":d.fontWeight,"letter-spacing":d.letterSpacing,"line-height":"1em"});this.createTooltip(b.label[0].Text,d,a);for(var g=this.stripTooltip(b.label[0].Text).split("\n"),j=0;j<g.length;j++)if(j===0)k.html(this.preserveSpacing(g[j]));else{var h=jQuery(document.createElement("div"));h.css({"white-space":"nowrap","margin-top":d.height+
"px","margin-left":d.offset+"px","font-family":d.font,"font-size":d.size,color:d.color,"text-align":i,"letter-spacing":d.letterSpacing,"font-weight":d.fontWeight,"line-height":"1em"}).html(this.preserveSpacing(g[j]));jQuery.browser.msie&&j==g.length-1&&h.css("padding-bottom","5px");k.append(h)}jQuery.browser.msie&&g.length===1&&k.css("padding-bottom","5px");a.append(k);b.cta&&(b.cta[0].url?(k.attr({href:this.addWebtrends(this.localizeURL(b.cta[0].url)),target:typeof b.cta[0].window==="undefined"?
"_self":b.cta[0].window}),e&&f.attr({href:this.addWebtrends(this.localizeURL(b.cta[0].url)),target:typeof b.cta[0].window==="undefined"?"_self":b.cta[0].window})):b.cta[0].action&&b.cta[0].action==="JS"?(k.attr("href","javascript:void(0);"),k.click(function(){JSAM.executeFunctionByName(b.cta[0].method,window,b.cta[0].param);return!1}),e&&(f.attr("href","javascript:void(0);"),f.click(function(){JSAM.executeFunctionByName(b.cta[0].method,window,b.cta[0].param);return!1}))):(a.html(b.label[0].Text),
e&&a.append(e)));this.adjustAsset(b,a);this.adjustAsset(b,k,["color","font-family","font-size","font-weight","letter-spacing","line-height"]);c.append(a)},toolTipID:0,createTooltip:function(b,c,a,d,e){if(b.indexOf("<tooltip>")!==-1){for(var b=b.substring(b.indexOf("<tooltip>")+9,b.indexOf("</tooltip>")),f=b.split(" "),i="",k=0,g=0,j=Math.round(Math.sqrt(6*b.length)),h=0;h<f.length;h++)if(f[h].length>j)j=f[h].length;for(h=0;h<f.length;h++)g===0?f[h].length>j?i+=f[h]+"<br>":(i+=f[h],g+=f[h].length,
g>k&&(k=g)):g+f[h].length>j?(i+="<br>"+f[h],g=f[h].length):(i+=" "+f[h],g+=1+f[h].length,g>k&&(k=g));if(jQuery.browser.msie||jQuery.browser.webkit){f=!1;g=0;j="";for(h=0;h<i.length;h++)i[h]==="&"?(f?j+="&amp;"+i.substring(g+1,h):(j+=i.substring(g,h),f=!0),g=h):i[h]===";"&&(j+=i.substring(g,h),f=!1,g=h);j+=f?"&amp;"+i.substring(g+1):i.substring(g);i=j}var l="JSAM_toolTip_"+this.id+"_"+this.toolTipID,h=jQuery(document.createElement("div")),f={position:"absolute",width:"1px",height:"1px","z-index":"10",
display:"none"},d=d||"left",e=e||"top",g=parseInt(c.left.replace("px","")),c=parseInt(c.top.replace("px",""));f[d]=d=="right"?g+80+"px":g-40+"px";f[e]=e=="bottom"?c+20+"px":c-10+"px";h.css(f).attr("id",l);jQuery.browser.msie?(c=jQuery(document.createElement("table")),c.addClass("JSAM_IEtooltip").css("width",Math.floor(k*4.85+16)+"px"),i=jQuery(document.createElement("tbody")),k=jQuery('<tr><td class="JSAM_IEborder JSAM_grayCorner" style="background-image:url('+this.localizeURL("/media/en_US/scripts/JSAM/JSAM_grayCorner1.png")+
')"></td><td class="JSAM_IEborder JSAM_grayVertical" style="border-top:1px solid #D5D5D5;"></td><td class="JSAM_IEborder JSAM_grayCorner" style="background-image:url('+this.localizeURL("/media/en_US/scripts/JSAM/JSAM_grayCorner2.png")+')"></td></tr>'),e=jQuery('<tr><td class="JSAM_IEborder JSAM_grayCorner" style="background:url('+this.localizeURL("/media/en_US/scripts/JSAM/JSAM_grayCorner4.png")+')"></td><td class="JSAM_IEborder JSAM_grayVertical" style="border-bottom:1px solid #D5D5D5;"></td><td class="JSAM_IEborder JSAM_grayCorner" style="background-image:url('+
this.localizeURL("/media/en_US/scripts/JSAM/JSAM_grayCorner3.png")+')"></td></tr>'),d=jQuery(document.createElement("tr")),f=jQuery('<td class="JSAM_IEborder JSAM_grayHorizontal" style="border-left:1px solid #D5D5D5;"></td>'),g=jQuery(document.createElement("td")),g.html(b),g.addClass("JSAM_IEtooltipText"),b=jQuery('<td class="JSAM_IEborder JSAM_grayHorizontal" style="border-right:1px solid #D5D5D5;"></td>'),d.append(f).append(g).append(b),i.append(k).append(d).append(e),c.append(i)):(c=jQuery(document.createElement("div")),
c.html(i),c.addClass("JSAM_tooltip"));b=jQuery(document.createElement("img"));b.css({position:"absolute",left:"40px"});b.attr("src",this.localizeURL("/media/en_US/scripts/JSAM/JSAM_triangle.png"));h.append(c);h.append(b);this.marquee.append(h);a.css("cursor","default");this.isMobileDevice?a.click(function(){jQuery("#"+l).toggle()}):a.mouseover(function(){jQuery("#"+l).show()}).mouseout(function(){jQuery("#"+l).hide()})}},stripTooltip:function(b){return b.indexOf("<tooltip>")!==-1?b.substring(0,b.indexOf("<tooltip>"))+
b.substring(b.indexOf("</tooltip>")+10):b},executeFunctionByName:function(b,c,a){for(var d=[],e=0;e<a.length;e++)d[e]=a[e].value;this.debug("myParams",d);b=b.split(".");a=c;for(e=0;e<b.length;e++)c=c[b[e]],e+1<b.length&&(a=a[b[e]]);return c.apply(a,d)},parseCssClass:function(b,c){var a={font:"verdana",color:"#666666",size:"11",letterSpacing:"0",fontWeight:"normal",height:"0",offset:"0"};a.left=b.x;a.top=b.y;if(typeof b.cssClass=="undefined")return a.left+="px",a.top+="px",a.letterSpacing+="px",a.size+=
"px",a;if(b.letterSpacing)a.letterSpacing=b.letterSpacing;b.cssClass=b.cssClass.indexOf(",")!=-1?b.cssClass.split(","):[b.cssClass];for(var d=0;d<b.cssClass.length;d++)if(b.cssClass[d].indexOf("customcolor")!=-1)a.color="#"+b.cssClass[d].slice(12);else if(b.cssClass[d].indexOf("size")!=-1)a.size=b.cssClass[d].slice(4);else switch(b.cssClass[d]){case "linkblue":a.color="#0A94D6";break;case "orange":a.color="#F78200";break;case "red":a.color="#BD1410";break;case "green":a.color="#5A8A00";break;case "text":a.color=
"#313431";break;case "legal":a.color="#6B6D6B";break;case "white":a.color="#FFFFFF";break;case "apexbook":a.font="apexbook,"+a.font;break;case "clearviewlight":a.font="clearviewlight,"+a.font;break;case "clearviewbook":a.font="clearviewbook,"+a.font;break;case "clearviewbold":a.font="clearviewbold,"+a.font;break;case "arial":a.font="arial"}switch(a.font.split(",")[0]){case "apexbook":if(a.size<=8)a.letterSpacing=-1+0.5625*a.letterSpacing,a.height=1,a.offset=-1,a.top=-3+parseInt(a.top),a.left=-2+parseInt(a.left),
a.size=9;else if(a.size<=10)a.letterSpacing=-1+9/(24-a.size)*a.letterSpacing,a.height=a.size-7,a.offset=-1,a.top=a.size-11+parseInt(a.top),a.left=-2+parseInt(a.left),a.size=9;else if(a.size<=11)a.letterSpacing=-0.5+9/13*a.letterSpacing,a.height=5,a.offset=-1,a.left=-2+parseInt(a.left),a.size=9;else if(a.size<=20)a.letterSpacing=0.0375*a.size-0.15+0.75*a.letterSpacing,a.height=Math.round(0.25*a.size+2),a.offset=Math.round(-0.125*a.size+1.5),a.top=1+parseInt(a.top),a.left=Math.round(0.125*a.size-3.5)+
parseInt(a.left),a.size=Math.round(0.75*a.size);else if(a.size<=30)a.letterSpacing=0.15*Math.cos(Math.PI/10*a.size)+0.45+Math.round(0.8*a.size-1)/a.size*a.letterSpacing,a.height=Math.round(0.4*a.size-1),a.offset=-1,a.top=Math.round(0.3*a.size-5)+parseInt(a.top),a.left=-1+parseInt(a.left),a.size=Math.round(0.8*a.size-1);else if(a.size>30)a.letterSpacing=0.15*Math.cos(Math.PI/10*a.size)+0.45+Math.round(0.7*a.size+2)/a.size*a.letterSpacing,a.height=Math.round(0.5*a.size-4),a.offset=Math.round(-(1/30)*
a.size),a.top=Math.round(0.3*a.size-5)+parseInt(a.top),a.left=-1+parseInt(a.left),a.size=Math.round(0.7*a.size+2);break;case "clearviewbook":if(a.size<=8)a.letterSpacing=-1+9/14*a.letterSpacing,a.top=-4+parseInt(a.top),a.left=-2+parseInt(a.left),a.size=9;else if(a.size<=10)a.letterSpacing=-1+9/(22-a.size)*a.letterSpacing,a.height=a.size-8,a.top=-3+parseInt(a.top),a.left=-2+parseInt(a.left),a.size=9;else if(a.size<=20)a.letterSpacing=1/90*a.size-11/90+Math.round(a.size-2)/a.size*a.letterSpacing,a.height=
Math.round(2/9*a.size+14/9),a.offset=Math.round(1/9*a.size-11/9),a.top=Math.round(1/9*a.size-29/9)+parseInt(a.top),a.left=-2+parseInt(a.left),a.size=Math.round(a.size-2);else if(a.size<=30)a.letterSpacing=-0.01*a.size+0.3+0.9*a.letterSpacing,a.height=Math.round(0.3*a.size),a.offset=Math.round(-0.1*a.size+4),a.top=Math.round(-0.1*a.size+1)+parseInt(a.top),a.left=-2+parseInt(a.left),a.size=Math.round(0.9*a.size);else if(a.size>30){if(a.size<=34)a.letterSpacing=-0.25*a.size+7.5+0.9*a.letterSpacing;else if(a.size<=
40)a.letterSpacing*=0.9;else if(a.size>40)a.letterSpacing=a.size/20*(0.05*Math.cos(Math.PI/10*a.size)+0.05)+0.9*a.letterSpacing;a.height=Math.round(0.3*a.size);a.offset=1;a.top=Math.round(0.5*Math.cos(Math.PI/10*a.size)-1.5)+parseInt(a.top);a.left=-2+parseInt(a.left);a.size=Math.round(0.9*a.size)}break;case "clearviewlight":if(a.size<=8)a.letterSpacing=-1+0.5625*a.letterSpacing,a.top=-4+parseInt(a.top),a.left=-2+parseInt(a.left),a.size=9;else if(a.size<=10)a.letterSpacing=0.05*a.size-1.4+9/(24-a.size)*
a.letterSpacing,a.height=Math.round(1.5*a.size-12),a.top=-3+parseInt(a.top),a.left=-2+parseInt(a.left),a.size=9;else if(a.size<=12)a.letterSpacing=0.65*a.size-7.4+9/(24-a.size)*a.letterSpacing,a.height=Math.round(a.size-7),a.offset=Math.round(-0.5*a.size+5),a.top=Math.round(a.size-13)+parseInt(a.top),a.left=Math.round(0.5*a.size-7)+parseInt(a.left),a.size=9;else if(a.size<=20)a.letterSpacing=-0.05*a.size+1+Math.round(a.size-3)/a.size*a.letterSpacing,a.height=Math.round(0.25*a.size+2),a.offset=Math.round(0.375*
a.size-5.5),a.top=-1+parseInt(a.top),a.left=Math.round(-0.125*a.size+0.5)+parseInt(a.left),a.size=Math.round(a.size-3);else if(a.size<=30)a.letterSpacing*=Math.round(0.9*a.size-1)/a.size,a.height=Math.round(0.3*a.size+1),a.offset=Math.round(-0.1*a.size+4),a.top=-1+parseInt(a.top),a.left=-2+parseInt(a.left),a.size=Math.round(0.9*a.size-1);else if(a.size>30)a.letterSpacing*=Math.round(0.8*a.size+2)/a.size,a.height=Math.round(0.4*a.size-2),a.offset=Math.round(-0.1*a.size+4),a.top=(a.size>=40?1:Math.round(0.2*
a.size-7))+parseInt(a.top),a.left=Math.round(0.5*Math.cos(Math.PI/20*a.size-Math.PI/4)-1.5)+parseInt(a.left),a.size=Math.round(0.8*a.size+2);break;case "clearviewbold":if(a.size<=8)a.letterSpacing=-1+0.75*a.letterSpacing,a.top=-4+parseInt(a.top),a.left=-1+parseInt(a.left),a.size=9;else if(a.size<=10)a.letterSpacing=0.5*a.size-5+9/(20-a.size)*a.letterSpacing,a.height=Math.round(1.5*a.size-12),a.top=-3+parseInt(a.top),a.left=-2+parseInt(a.left),a.size=9;else if(a.size<=20)a.letterSpacing=0.07*a.size-
0.7+Math.round(0.7*a.size+2)/a.size*a.letterSpacing,a.height=Math.round(0.5*a.size-2),a.offset=Math.round(-0.1*a.size+1),a.top=Math.round(0.3*a.size-6)+parseInt(a.top),a.left=Math.round(0.1*a.size-3)+parseInt(a.left),a.size=Math.round(0.7*a.size+2);else if(a.size<=30)a.letterSpacing=-0.05*a.size+1.7+Math.round(0.9*a.size-2)/a.size*a.letterSpacing,a.height=Math.round(0.3*a.size+2),a.offset=Math.round(0.1*a.size-3),a.left=-1+parseInt(a.left),a.size=Math.round(0.9*a.size-2);else if(a.size>30)a.letterSpacing=
(a.size>40?0:-0.02*a.size+0.8)+Math.round(0.9*a.size-2)/a.size*a.letterSpacing,a.height=Math.round(0.3*a.size+1),a.offset=Math.round(Math.cos(Math.PI/20*a.size)),a.top=Math.round(1/30*a.size-2/3)+parseInt(a.top),a.left=Math.round(-0.5*Math.cos(Math.PI/20*a.size-Math.PI/4)-1.5)+parseInt(a.left),a.size=Math.round(0.9*a.size-2);a.fontWeight="bold";break;case "verdana":if(a.size<=20)a.height=Math.round(0.3*a.size-1),a.height=a.height<0?0:a.height;else if(a.size<=30)a.height=Math.round(0.1*a.size+3);else if(a.size>
30)a.height=Math.round(0.2*a.size);a.top=Math.round(0.1*a.size-2)+parseInt(a.top);a.left=-2+parseInt(a.left);break;case "arial":if(a.size<10)a.height=Math.round(0.2*a.size-1);if(a.size<=20)a.height=3;else if(a.size<=30)a.height=Math.round(0.2*a.size-1);else if(a.size<=40)a.height=5;else if(a.size>40)a.height=Math.round(2/30*a.size+7/3);a.top=Math.round(0.05*a.size-1.75)+parseInt(a.top);a.left=-2+parseInt(a.left)}a.textHeight=a.size;if(c&&(a.top=4+parseInt(a.top),a.left=4+parseInt(a.left),b.bulletIcon))switch(a.font.split(",")[0]){case "apexbook":a.bullOffset=
8;break;case "clearviewbook":a.bullOffset=7;break;case "clearviewlight":a.bullOffset=7;break;case "clearviewbold":a.bullOffset=8;break;case "verdana":a.bullOffset=7;break;case "arial":a.bullOffset=7}if(a.font.split(",")[0]!=="verdana"&&a.size==9&&a.letterSpacing<-1)a.letterSpacing=-1;if(b.align==="right")a.left=parseInt(a.left)-5;a.left+="px";a.top+="px";a.letterSpacing+="px";a.size+="px";return a},endDate:"",serverTime:function(){var b=new Date;if(location.search.indexOf("JSAM_setTime=true")!==-1){var c=
b.getFullYear()+"-"+(b.getMonth()+1)+"-"+b.getDate()+"-"+b.getHours()+"-"+b.getMinutes()+"-"+b.getSeconds();return(c=prompt("Please enter new date:\nyear-month-day-hour-minute-second",c))?(b=c.split("-"),b=new Date(b[0],b[1]-1,b[2],b[3],b[4],b[5],0),alert("You have selected:\n"+b),b):typeof getTimeOffset!=="undefined"?new Date(b.getTime()-getTimeOffset()):b}else return typeof getTimeOffset!=="undefined"?new Date(b.getTime()-getTimeOffset()):b}(),currentTimeZone:function(){return-this.serverTime.getTimezoneOffset()/
60},weekday:["sunday","monday","tuesday","wednesday","thursday","friday","saturday"],checkWeekday:function(b){for(var c=0;c<this.weekday.length;c++)if(b[this.weekday[c]]&&b[this.weekday[c]]==="1"&&this.serverTime.getDay()===c)return!0;return!1},adjustForGMT:function(b,c,a){a=this.currentTimeZone()-a;b=new Date(b[2],b[0]-1,b[1],c[0],c[1],c[2]);b.setTime(b.getTime()+a*36E5);return b},checkSchedule:function(b){if(b.length===1&&b[0].daysOfWeek&&b[0].daysOfWeek==="1")return this.checkWeekday(b[0]);for(var c=
[],a=0;a<b.length;a++){var d={};if(b[a].startDate){b[a].startDate=b[a].startDate.split(" ");var e=b[a].startDate[0].split("/"),f=b[a].startDate[1].split(":"),i=b[a].startDate[2].replace("GMT","").replace(/0/g,"");d.start=this.adjustForGMT(e,f,i)}if(b[a].endDate)b[a].endDate=b[a].endDate.split(" "),e=b[a].endDate[0].split("/"),f=b[a].endDate[1].split(":"),i=b[a].endDate[2].replace("GMT","").replace(/0/g,""),d.end=this.adjustForGMT(e,f,i),this.endDate=d.end;c.push(d)}for(a=0;a<c.length;a++)if(c[a].start&&
c[a].end&&c[a].start<this.serverTime&&this.serverTime<c[a].end)return!0;else if(c[a].start&&!c[a].end&&c[a].start<this.serverTime)return!0;else if(!c[a].start&&c[a].end&&c[a].end>this.serverTime)return!0;return!1},createButton:function(b,c,a){c=jQuery(document.createElement("a"));c.attr("href","javascript:void(0);");c.css({"text-decoration":"none",cursor:"pointer"});if(this.isMobileDevice)b===1?c.css("background-image","url('"+this.localizeURL("/media/en_US/scripts/JSAM/JSAM_blue_bullet.png")+"')"):
c.css("background-image","url('"+this.localizeURL("/media/en_US/scripts/JSAM/JSAM_gray_bullet.png")+"')"),c.attr("id","JSAM_rotButton"+b),c.css({"float":"left",height:"75px",width:"75px",display:"block","background-color":"transparent","background-repeat":"no-repeat","background-position":"30px 30px"}),this.width<800&&c.css("background-position","30px 45px"),c.click(function(){this.blur();JSAM.touchEvent(b)});else{var d=jQuery(document.createElement("img"));b===1?d.attr({src:this.localizeURL("/media/en_US/scripts/JSAM/JSAM_blue_bullet.png"),
id:"JSAM_rotButton"+b}):(d.attr({src:this.localizeURL("/media/en_US/scripts/JSAM/JSAM_gray_bullet.png"),id:"JSAM_rotButton"+b}),c.css("margin-left","5px"));d.css("border","none");c.css("float","left");c.click(function(){this.blur();JSAM.mouseClick(b)});c.mouseover(function(){JSAM.mouseOver(b)});c.mouseout(function(){JSAM.mouseOut(b)});c.append(d)}a.append(c)},createHover:function(b,c,a){if(c.description||c.thumbnail){if(this.width<800){var d=(this.numOfPanels-b)*20,e=jQuery(document.createElement("div"));
this.isMobileDevice&&(d=(this.numOfPanels-b)*75,e.click(function(){JSAM.secondaryTouchEvent()}))}else d=this.buttonPosition+(b-1)*20,e=jQuery(document.createElement("div")),this.isMobileDevice&&(d=this.buttonPosition+(b-1)*75+30,e.click(function(){JSAM.secondaryTouchEvent()}));e.attr("id","JSAM_hover"+b);e.css("display","none");var f=jQuery(document.createElement("table"));this.width<800?this.isMobileDevice?f.css("right",d+1+"px"):f.css("right",(this.numOfPanels-b<4?1:(this.numOfPanels-4-b)*20+1)+
"px"):f.css("left",d-25+"px");var b=jQuery(document.createElement("tbody")),i=jQuery(document.createElement("tr")),k=jQuery(document.createElement("td"));if(jQuery.browser.msie){f.addClass("JSAM_IEhoverText");k.addClass("JSAM_IEhoverContent");var g=jQuery('<tr><td class="JSAM_IEborder JSAM_grayCorner" style="background-image:url('+this.localizeURL("/media/en_US/scripts/JSAM/JSAM_grayCorner1.png")+')"></td><td class="JSAM_IEborder JSAM_grayVertical" style="border-top:1px solid #D5D5D5;"></td><td class="JSAM_IEborder JSAM_grayVertical" style="border-top:1px solid #D5D5D5;"></td><td class="JSAM_IEborder JSAM_grayCorner" style="background-image:url('+
this.localizeURL("/media/en_US/scripts/JSAM/JSAM_grayCorner2.png")+')"></td></tr>'),j=jQuery('<tr><td class="JSAM_IEborder JSAM_grayCorner" style="background:url('+this.localizeURL("/media/en_US/scripts/JSAM/JSAM_grayCorner4.png")+')"></td><td class="JSAM_IEborder JSAM_grayVertical" style="border-bottom:1px solid #D5D5D5;"></td><td class="JSAM_IEborder JSAM_grayVertical" style="border-bottom:1px solid #D5D5D5;"></td><td class="JSAM_IEborder JSAM_grayCorner" style="background-image:url('+this.localizeURL("/media/en_US/scripts/JSAM/JSAM_grayCorner3.png")+
')"></td></tr>'),h=jQuery('<td class="JSAM_IEborder JSAM_grayHorizontal" style="border-left:1px solid #D5D5D5;"></td>'),l=jQuery('<td class="JSAM_IEborder JSAM_grayHorizontal" style="border-right:1px solid #D5D5D5;"></td>')}else f.addClass("JSAM_hoverText"),k.addClass("JSAM_hoverContent");if(c.description){for(var n=c.description.split(" "),p="",o=0,q=125,m=0;m<n.length;m++)n[m].length*7.65>75&&(q=n[m].length*7.65);for(m=0;m<n.length;m++)o===0?n[m].length*7.65>q?p+=n[m]+"<br>":(p+=n[m],o+=n[m].length*
7.65):o+n[m].length*7.65>q?(p+="<br>"+n[m],o=n[m].length*7.65):(p+=" "+n[m],o+=4+n[m].length*7.65);if(jQuery.browser.msie||jQuery.browser.webkit){n=!1;o=0;q="";for(m=0;m<p.length;m++)p.charAt(m)==="&"?(n?q+="&amp;"+p.substring(o+1,m):(q+=p.substring(o,m),n=!0),o=m):p.charAt(m)===";"&&(q+=p.substring(o,m),n=!1,o=m);q+=n?"&amp;"+p.substring(o+1):p.substring(o);p=q}k.html(p)}if(c.thumbnail){var c=jQuery(document.createElement("img")).attr("src",this.localizeURL(c.thumbnail)),r=jQuery(document.createElement("td")).append(c);
jQuery.browser.msie?r.addClass("JSAM_IEhoverImage"):r.addClass("JSAM_hoverImage")}jQuery.browser.msie?i.append(h).append(r).append(k).append(l):i.append(r).append(k);h=jQuery(document.createElement("img")).addClass("JSAM_hoverTriangle").attr("src",this.localizeURL("/media/en_US/scripts/JSAM/JSAM_triangle.png"));this.width<800?this.isMobileDevice?h.css("right",d+33+"px"):h.css("right",d+8+"px"):h.css("left",d+2+"px");this.isMobileDevice&&(this.width<800?(h.css("bottom","33px"),f.css("bottom","39px")):
(h.css("bottom","48px"),f.css("bottom","54px")));jQuery.browser.msie?b.append(g).append(i).append(j):b.append(i);f.append(b);e.append(f).append(h);a.append(e)}},currentPanelNumber:1,currentHoverNumber:0,numOfPanels:0,setNumOfPanels:function(b){this.currentPanelNumber=1;this.currentHoverNumber=0;this.numOfPanels=b},animating:!1,changeDuration:1E3,rotationDelay:12E3,timer:{},oldPanel:void 0,newPanel:void 0,changePanel:function(b,c){if(!this.animating&&b!==this.currentPanelNumber)if(this.animating=!0,
clearTimeout(this.timer),this.oldPanel=jQuery("#JSAM_rotation"+this.currentPanelNumber),JSAM.hasFlash&&JSAM.stopFlash(),this.newPanel=jQuery("#JSAM_rotation"+b),this.newPanel.show(),this.isMobileDevice&&this.newPanel.find(".JSAM_toolTipDiv").each(function(){jQuery(this).hide()}),c){this.changeBullet(b);this.oldPanel.css({opacity:"1",filter:"none",display:"none","z-index":"1"});this.newPanel.css("z-index","2");JSAM.hasFiredWT[b]||(JSAM.hasFiredWT[b]=!0,dcsMultiTrack("DCS.dcsuri",window.location.pathname,
"DCS.dcsref",window.location.href,"DCSext.wtSlotContent",JSAM.contentID[b],"DCSext.wtNoHit","1"));for(var a=1;a<JSAM.numOfPanels+1;a++)jQuery("#JSAM_rotButton"+a).blur();JSAM.animating=!1}else this.isMobileDevice&&!this.rotating?this.timer=setTimeout(function(){JSAM.startFade(b,2E3)},500):(this.startFade(b,this.isMobileDevice?this.changeDuration*1.5:this.changeDuration),this.changeBullet(b))},startFade:function(b,c){if(this.isMobileDevice&&!this.rotating)this.timer=setTimeout("JSAM.changeBullet("+
b+");",c/2);jQuery.browser.msie&&(this.oldPanel.find(".JSAM_blueHorizontal").css("filter","none"),this.oldPanel.find(".JSAM_IEbuttonDefault").css("filter","none"),this.oldPanel.find(".JSAM_IEbuttonText").css("filter","none"),this.oldPanel.find(".JSAM_buttonDefault").hide(),this.oldPanel.find(".JSAM_buttonDefaultSecondary").addClass("JSAM_clearFilter"),this.oldPanel.find(".JSAM_buttonDefaultGreen").addClass("JSAM_clearFilter"));this.oldPanel.fadeOut(c,function(){JSAM.oldPanel.css({opacity:"1",filter:"none",
display:"none","z-index":"1"});JSAM.newPanel.css("z-index","2");jQuery.browser.msie&&(JSAM.oldPanel.find(".JSAM_blueHorizontal").removeAttr("style"),JSAM.oldPanel.find(".JSAM_IEbuttonDefault").removeAttr("style"),JSAM.oldPanel.find(".JSAM_IEbuttonText").removeAttr("style"),JSAM.oldPanel.find(".JSAM_buttonDefault").show(),JSAM.oldPanel.find(".JSAM_buttonDefaultSecondary").removeClass("JSAM_clearFilter"),JSAM.oldPanel.find(".JSAM_buttonDefaultGreen").removeClass("JSAM_clearFilter"));if(JSAM.rotating)JSAM.timer=
setTimeout("JSAM.rotationTimer()",JSAM.rotationDelay);JSAM.hasFiredWT[b]||(JSAM.hasFiredWT[b]=!0,dcsMultiTrack("DCS.dcsuri",window.location.pathname,"DCS.dcsref",window.location.href,"DCSext.wtSlotContent",JSAM.contentID[b],"DCSext.wtNoHit","1"));for(var a=1;a<JSAM.numOfPanels+1;a++)jQuery("#JSAM_rotButton"+a).parent().blur();JSAM.hasFlash&&(JSAM.flashLoaded[JSAM.currentPanelNumber-1]?JSAM.playFlash():JSAM.createFlash());JSAM.animating=!1})},changeBullet:function(b){this.isMobileDevice?(this.currentHoverNumber!==
this.currentPanelNumber&&jQuery("#JSAM_rotButton"+this.currentPanelNumber).css("background-image","url('"+this.localizeURL("/media/en_US/scripts/JSAM/JSAM_gray_bullet.png")+"')"),jQuery("#JSAM_rotButton"+b).css("background-image","url('"+this.localizeURL("/media/en_US/scripts/JSAM/JSAM_blue_bullet.png")+"')")):(this.currentHoverNumber!==this.currentPanelNumber&&jQuery("#JSAM_rotButton"+this.currentPanelNumber).attr("src",this.localizeURL("/media/en_US/scripts/JSAM/JSAM_gray_bullet.png")),jQuery("#JSAM_rotButton"+
b).attr("src",this.localizeURL("/media/en_US/scripts/JSAM/JSAM_blue_bullet.png")));this.currentPanelNumber=b},rotating:!0,rotationTimer:function(){this.rotating&&this.changePanel(this.currentPanelNumber+1>this.numOfPanels?1:this.currentPanelNumber+1)},nextPanel:function(){if(this.rotating)this.rotating=!1;this.changePanel(this.currentPanelNumber+1>this.numOfPanels?1:this.currentPanelNumber+1)},startTimer:function(){this.timer=setTimeout("JSAM.rotationTimer()",this.rotationDelay)},touchTimer:{},checkRotation:!0,
wasRotating:!1,touchEvent:function(b){clearTimeout(this.timer);clearTimeout(this.touchTimer);this.cancelFade();this.cancelTooltip();if(this.checkRotation)this.checkRotation=!1,this.wasRotating=this.rotating,this.rotating=!1;b===this.currentHoverNumber?this.secondaryTouchEvent():(this.currentHoverNumber&&this.mouseOut(this.currentHoverNumber),this.mouseOver(b),this.changePanel(b),this.touchTimer=setTimeout("JSAM.mouseOut("+b+")",3E3))},secondaryTouchEvent:function(){this.wasRotating&&this.currentHoverNumber===
this.currentPanelNumber?(this.rotating=!0,this.mouseOut(this.currentHoverNumber),this.timer=setTimeout("JSAM.rotationTimer()",this.rotationDelay/2),this.checkRotation=!0):(this.changePanel(this.currentHoverNumber,!0),this.mouseOut(this.currentHoverNumber),this.wasRotating=!1)},cancelTouchEvent:function(){this.cancelTooltip();if(this.currentHoverNumber&&(clearTimeout(this.timer),clearTimeout(this.touchTimer),this.cancelFade(),this.mouseOut(this.currentHoverNumber),this.wasRotating))this.rotating=!0,
this.timer=setTimeout("JSAM.rotationTimer()",this.rotationDelay/2),this.checkRotation=!0},cancelFade:function(){if(this.animating)this.currentPanelNumber===this.currentHoverNumber?this.oldPanel.stop(!0,!0):(this.oldPanel.stop(!0,!1).css({opacity:"1",filter:"none"}),this.newPanel.hide(),this.animating=!1)},cancelTooltip:function(){jQuery("#JSAM_rotation"+this.currentPanelNumber).find(".JSAM_toolTipDiv").each(function(){jQuery(this).hide()})},mouseClick:function(b){this.rotating=!1;this.changePanel(b)},
mouseOver:function(b){this.currentHoverNumber=b;jQuery("#JSAM_hover"+b).show();b!=this.currentPanelNumber&&(this.isMobileDevice?jQuery("#JSAM_rotButton"+b).css("background-image","url('"+this.localizeURL("/media/en_US/scripts/JSAM/JSAM_blue_bullet.png")+"')"):jQuery("#JSAM_rotButton"+b).attr("src",this.localizeURL("/media/en_US/scripts/JSAM/JSAM_blue_bullet.png")))},mouseOut:function(b){this.currentHoverNumber=0;jQuery("#JSAM_hover"+b).hide();b!=this.currentPanelNumber&&(this.isMobileDevice?jQuery("#JSAM_rotButton"+
b).css("background-image","url('"+this.localizeURL("/media/en_US/scripts/JSAM/JSAM_gray_bullet.png")+"')"):jQuery("#JSAM_rotButton"+b).attr("src",this.localizeURL("/media/en_US/scripts/JSAM/JSAM_gray_bullet.png")))}};JSAM.isHomepage&&JSAM.preloader();
